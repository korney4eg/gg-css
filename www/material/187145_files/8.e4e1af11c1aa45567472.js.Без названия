(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"0KrB":function(n,l,e){"use strict";e.d(l,"a",function(){return r});var t=e("mrSG"),u=e("P6uZ"),o=e("Ps8t"),i=e("CcnG"),r=function(){function n(n){this.ggPaymentApiService=n}return n.prototype.pay=function(n,l,e){return t.e(this,void 0,void 0,function(){var o;return t.h(this,function(t){switch(t.label){case 0:return[4,this.ggPaymentApiService.payment({paymentId:n,amount:l,provider:e}).$observable.pipe(Object(u.a)()).toPromise()];case 1:if(!(o=t.sent()).success)throw new Error(o.error||"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043e\u043f\u043b\u0430\u0442\u044b");return[2,o.url||!0]}})})},n.prototype.getPaymentProviders=function(n){return t.e(this,void 0,void 0,function(){return t.h(this,function(l){switch(l.label){case 0:return[4,this.ggPaymentApiService.getPaymentOptions({objType:n}).$observable.pipe(Object(u.a)()).toPromise()];case 1:return[2,l.sent()]}})})},n.prototype.waitForCallback=function(){return new Promise(function(n,l){window.addEventListener("message",function(l){"paymentSuccess"===l.data&&n(!0),"paymentFail"===l.data&&n(!1)},!1),window.iframeCallback=function(e,t){if(console.log("Got callback",{result:e,error:t}),t)return l(t);n(e)}})},n.ngInjectableDef=i.defineInjectable({factory:function(){return new n(i.inject(o.a))},token:n,providedIn:"root"}),n}()},"52xG":function(n,l,e){"use strict";var t=e("CcnG"),u=e("K+Ub"),o=e("9JDg"),i=e("Ip0R"),r=function(){function n(){this.close=new t.EventEmitter,this.repeat=new t.EventEmitter}return n.prototype.ngOnInit=function(){},n}(),a=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function c(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,11,"div",[["class","content"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"div",[["class","system-message error"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043b\u0430\u0442\u0435\u0436"])),(n()(),t["\u0275eld"](4,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](5,0,null,null,3,"div",[["class","text"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" \u0415\u0441\u043b\u0438 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u044e\u0442 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438, \u043f\u0438\u0448\u0438\u0442\u0435 \u043d\u0430 "])),(n()(),t["\u0275eld"](7,0,null,null,1,"a",[["href","mailto:support@goodgame.ru"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["support@goodgame.ru"])),(n()(),t["\u0275eld"](9,0,null,null,2,"div",[["class","btn-block"]],null,null,null,null,null)),(n()(),t["\u0275eld"](10,0,null,null,1,"a",[["class","btn btn-blue wide"]],null,[[null,"click"]],function(n,l,e){var t=!0,u=n.component;"click"===l&&(t=!1!==u.repeat.emit()&&t);return t},null,null)),(n()(),t["\u0275ted"](-1,null,["\u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0435\u0449\u0435 \u0440\u0430\u0437"]))],null,null)}function s(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,c)),t["\u0275did"](1,16384,null,0,i.o,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,1,0,l.component.error)},null)}t["\u0275ccf"]("gg-result",r,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"gg-result",[],null,null,null,s,a)),t["\u0275did"](1,114688,null,0,r,[],null,null)],function(n,l){n(l,1,0)},null)},{error:"error"},{close:"close",repeat:"repeat"},[]);var d=e("gIcY"),p=e("5tJs"),m=e("rpZH"),g=e("2Hcd"),f=e("PwDV"),v=e("Ps8t"),h=(e("gfQ2"),function(){function n(n){this.localStorageService=n,this.selectOption=new t.EventEmitter,this.previousPaymentMethod=0}return n.prototype.ngOnChanges=function(){if(this.paymentOptions){var n=this.localStorageService.getItem("remember_donat_provider");this.findMethodPayment(n||"0")}},n.prototype.findMethodPayment=function(n){"0"!=n&&(this.previousPaymentMethod=this.paymentOptions.findIndex(function(l){var e=l.options?l.options.bindingId:null;return e&&e==n||l.id==+n})),this.setPaymentMethod(this.previousPaymentMethod)},n.prototype.setPaymentMethod=function(n){var l=this.paymentOptions[n];if(!l)return!1;this.isCard=!!l.options.cvc,this.disabledCvc=""==l.options.bindingId,this.option={providerId:l.id.toString(),options:l.options},this.selectOption.emit(this.option)},n.prototype.setCVC=function(n){this.option.options.cvc=n,this.selectOption.emit(this.option)},n}()),y=e("4x4Y"),b=[[""]],C=t["\u0275crt"]({encapsulation:0,styles:b,data:{}});function w(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"gg-option",[],null,null,null,p.b,p.a)),t["\u0275did"](1,114688,[[1,4]],0,m.a,[t.ElementRef],{value:[0,"value"],icon:[1,"icon"],trash:[2,"trash"]},null),(n()(),t["\u0275ted"](2,0,[" "," "," "]))],function(n,l){n(l,1,0,l.context.index,l.context.$implicit.icon,l.context.$implicit.canDelete)},function(n,l){n(l,2,0,l.context.$implicit.title,null!=l.context.$implicit.options&&l.context.$implicit.options.balance?"("+l.context.$implicit.options.balance+")":"")})}function P(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,8,"div",[["class","form-group cvc"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"label",[["for","cvc"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["CVV/CVC"])),(n()(),t["\u0275eld"](3,0,null,null,5,"input",[["id","cvc"],["name","cvc"],["placeholder","***"],["type","password"]],[[2,"disabled",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var u=!0,o=n.component;"input"===l&&(u=!1!==t["\u0275nov"](n,4)._handleInput(e.target.value)&&u);"blur"===l&&(u=!1!==t["\u0275nov"](n,4).onTouched()&&u);"compositionstart"===l&&(u=!1!==t["\u0275nov"](n,4)._compositionStart()&&u);"compositionend"===l&&(u=!1!==t["\u0275nov"](n,4)._compositionEnd(e.target.value)&&u);"ngModelChange"===l&&(u=!1!==o.setCVC(e)&&u);return u},null,null)),t["\u0275did"](4,16384,null,0,d.d,[t.Renderer2,t.ElementRef,[2,d.a]],null,null),t["\u0275prd"](1024,null,d.q,function(n){return[n]},[d.d]),t["\u0275did"](6,671744,null,0,d.v,[[2,d.c],[8,null],[8,null],[6,d.q]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,d.r,null,[d.v]),t["\u0275did"](8,16384,null,0,d.s,[[4,d.r]],null,null)],function(n,l){n(l,6,0,"cvc",l.component.cvc)},function(n,l){n(l,3,0,l.component.disabledCvc,t["\u0275nov"](l,8).ngClassUntouched,t["\u0275nov"](l,8).ngClassTouched,t["\u0275nov"](l,8).ngClassPristine,t["\u0275nov"](l,8).ngClassDirty,t["\u0275nov"](l,8).ngClassValid,t["\u0275nov"](l,8).ngClassInvalid,t["\u0275nov"](l,8).ngClassPending)})}function I(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,17,"form",[["autocomplete","off"],["class","pay-options"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var u=!0;"submit"===l&&(u=!1!==t["\u0275nov"](n,2).onSubmit(e)&&u);"reset"===l&&(u=!1!==t["\u0275nov"](n,2).onReset()&&u);return u},null,null)),t["\u0275did"](1,16384,null,0,d.E,[],null,null),t["\u0275did"](2,4210688,null,0,d.u,[[8,null],[8,null]],null,null),t["\u0275prd"](2048,null,d.c,null,[d.u]),t["\u0275did"](4,16384,null,0,d.t,[[4,d.c]],null,null),(n()(),t["\u0275eld"](5,0,null,null,12,"div",[["class","flex"]],null,null,null,null,null)),(n()(),t["\u0275eld"](6,0,null,null,9,"div",[["class","form-group select"]],null,null,null,null,null)),(n()(),t["\u0275eld"](7,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b"])),(n()(),t["\u0275eld"](9,0,null,null,6,"div",[["class","ui-select"]],null,null,null,null,null)),(n()(),t["\u0275eld"](10,0,null,null,5,"gg-dropdown",[],[[2,"disabled",null],[2,"dropdown",null],[2,"dark",null],[2,"blue",null],[2,"transparent",null],[2,"open",null]],[[null,"valueChange"],[null,"click"],[null,"ggClickOutside"]],function(n,l,e){var u=!0,o=n.component;"click"===l&&(u=!1!==t["\u0275nov"](n,12).toggle()&&u);"ggClickOutside"===l&&(u=!1!==t["\u0275nov"](n,12).onOutsideClick()&&u);"valueChange"===l&&(u=!1!==o.setPaymentMethod(e)&&u);return u},g.b,g.a)),t["\u0275prd"](5120,null,d.q,function(n){return[n]},[f.a]),t["\u0275did"](12,1753088,null,1,f.a,[t.ChangeDetectorRef,v.a],{color:[0,"color"],value:[1,"value"],paymentDropdown:[2,"paymentDropdown"],paymentMethods:[3,"paymentMethods"]},{valueChange:"valueChange"}),t["\u0275qud"](603979776,1,{options:1}),(n()(),t["\u0275and"](16777216,null,null,1,null,w)),t["\u0275did"](15,278528,null,0,i.n,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,P)),t["\u0275did"](17,16384,null,0,i.o,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,12,0,"back",e.previousPaymentMethod||0,!0,e.paymentOptions),n(l,15,0,e.paymentOptions),n(l,17,0,e.isCard&&!e.disabledCvc)},function(n,l){n(l,0,0,t["\u0275nov"](l,4).ngClassUntouched,t["\u0275nov"](l,4).ngClassTouched,t["\u0275nov"](l,4).ngClassPristine,t["\u0275nov"](l,4).ngClassDirty,t["\u0275nov"](l,4).ngClassValid,t["\u0275nov"](l,4).ngClassInvalid,t["\u0275nov"](l,4).ngClassPending);n(l,10,0,t["\u0275nov"](l,12).disabledValue,!0,"dark"===t["\u0275nov"](l,12).color,"blue"===t["\u0275nov"](l,12).color,"transparent"===t["\u0275nov"](l,12).color,t["\u0275nov"](l,12).isOpened)})}function O(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,I)),t["\u0275did"](1,16384,null,0,i.o,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,1,0,e.paymentOptions&&e.paymentOptions.length>0)},null)}t["\u0275ccf"]("gg-payment-methods",h,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"gg-payment-methods",[],null,null,null,O,C)),t["\u0275did"](1,573440,null,0,h,[y.a],null,null)],null,null)},{paymentOptions:"paymentOptions"},{selectOption:"selectOption"},[]);var k=e("/TZZ"),S=e("ZYjt"),x=e("zf8C"),R=e("AtGD"),T=e("lHDj"),E=e("bIsG"),M=e("l1nV"),A=e("0KrB"),_=e("tho4");e.d(l,"b",function(){return V}),e.d(l,"c",function(){return B}),e.d(l,"a",function(){return K});var V=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function j(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function D(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[["appTippy",""],["class","icon icon-tip"],["title","\u0418\u043d\u0444\u043e \u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0430\u0445"]],[[2,"color-aqua",null]],[[null,"click"]],function(n,l,e){var t=!0,u=n.component;"click"===l&&(t=!1!==u.btnShowHelp()&&t);return t},null,null)),t["\u0275did"](1,671744,null,0,u.a,[t.ElementRef,o.a],{title:[0,"title"]},null)],function(n,l){n(l,1,0,"\u0418\u043d\u0444\u043e \u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0430\u0445")},function(n,l){n(l,0,0,l.component.help)})}function U(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"a",[["appTippy",""],["class","icon icon-external"],["href",""],["target","_blank"],["title","\u0414\u043e\u043d\u0430\u0442 \u0432 \u043e\u043a\u043d\u0435"]],null,[[null,"click"]],function(n,l,e){var t=!0,u=n.component;"click"===l&&(t=!1!==u.openNewWindow()&&t);return t},null,null)),t["\u0275did"](1,671744,null,0,u.a,[t.ElementRef,o.a],{title:[0,"title"]},null)],function(n,l){n(l,1,0,"\u0414\u043e\u043d\u0430\u0442 \u0432 \u043e\u043a\u043d\u0435")},null)}function q(n){return t["\u0275vid"](0,[t["\u0275ncd"](null,0),(n()(),t["\u0275and"](0,null,null,0))],null,null)}function H(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","new-card-wrap"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"iframe",[["frameborder","0"],["style","width: 100%; height: 100%; border: 0;"]],[[8,"src",5]],null,null,null,null)),t["\u0275ppd"](2,2)],null,function(n,l){var e=l.component,u=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),e.url,"resourceUrl"));n(l,1,0,u)})}function N(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"gg-result",[],null,[[null,"close"],[null,"repeat"]],function(n,l,e){var t=!0,u=n.component;"close"===l&&(t=!1!==u.closeAll()&&t);"repeat"===l&&(t=!1!==u.repeatPayment()&&t);return t},s,a)),t["\u0275did"](1,114688,null,0,r,[],{error:[0,"error"]},{close:"close",repeat:"repeat"})],function(n,l){n(l,1,0,l.component.error)},null)}function G(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"a",[],[[2,"current",null]],[[null,"click"]],function(n,l,e){var t=!0,u=n.component;"click"===l&&(t=!1!==u.setPresetAmount(n.context.$implicit)&&t);return t},null,null)),(n()(),t["\u0275ted"](1,null,["",""]))],null,function(n,l){n(l,0,0,l.component.amount==l.context.$implicit),n(l,1,0,l.context.$implicit)})}function Y(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","system-message error"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443 \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 ",""])),(n()(),t["\u0275eld"](2,0,null,null,1,"span",[["class","rub-sign"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u0420"]))],null,function(n,l){n(l,1,0,l.component.minimumAmount)})}function F(n){return t["\u0275vid"](0,[t["\u0275ncd"](null,2),(n()(),t["\u0275and"](0,null,null,0))],null,null)}function $(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u041f\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c"]))],null,null)}function Z(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,33,"div",[["class","content"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,26,"div",[["class","pay-options"]],[[2,"loading",null]],null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,22,"form",[["autocomplete","off"],["class","form-group donate"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var u=!0;"submit"===l&&(u=!1!==t["\u0275nov"](n,4).onSubmit(e)&&u);"reset"===l&&(u=!1!==t["\u0275nov"](n,4).onReset()&&u);return u},null,null)),t["\u0275did"](3,16384,null,0,d.E,[],null,null),t["\u0275did"](4,4210688,null,0,d.u,[[8,null],[8,null]],null,null),t["\u0275prd"](2048,null,d.c,null,[d.u]),t["\u0275did"](6,16384,null,0,d.t,[[4,d.c]],null,null),(n()(),t["\u0275eld"](7,0,null,null,3,"label",[["for","donat"]],null,null,null,null,null)),(n()(),t["\u0275ted"](8,null,[""," "])),(n()(),t["\u0275eld"](9,0,null,null,1,"span",[["class","rub-sign"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u0420"])),(n()(),t["\u0275eld"](11,0,null,null,8,"input",[["class",""],["id","donat"],["maxlength","7"],["name","payment"],["type","number"]],[[2,"error",null],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,e){var u=!0,o=n.component;"input"===l&&(u=!1!==t["\u0275nov"](n,12)._handleInput(e.target.value)&&u);"blur"===l&&(u=!1!==t["\u0275nov"](n,12).onTouched()&&u);"compositionstart"===l&&(u=!1!==t["\u0275nov"](n,12)._compositionStart()&&u);"compositionend"===l&&(u=!1!==t["\u0275nov"](n,12)._compositionEnd(e.target.value)&&u);"change"===l&&(u=!1!==t["\u0275nov"](n,13).onChange(e.target.value)&&u);"input"===l&&(u=!1!==t["\u0275nov"](n,13).onChange(e.target.value)&&u);"blur"===l&&(u=!1!==t["\u0275nov"](n,13).onTouched()&&u);"ngModelChange"===l&&(u=!1!==(o.amount=e)&&u);return u},null,null)),t["\u0275did"](12,16384,null,0,d.d,[t.Renderer2,t.ElementRef,[2,d.a]],null,null),t["\u0275did"](13,16384,null,0,d.C,[t.Renderer2,t.ElementRef],null,null),t["\u0275did"](14,540672,null,0,d.o,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,d.p,function(n){return[n]},[d.o]),t["\u0275prd"](1024,null,d.q,function(n,l){return[n,l]},[d.d,d.C]),t["\u0275did"](17,671744,null,0,d.v,[[2,d.c],[6,d.p],[8,null],[6,d.q]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,d.r,null,[d.v]),t["\u0275did"](19,16384,null,0,d.s,[[4,d.r]],null,null),(n()(),t["\u0275eld"](20,0,null,null,2,"div",[["class","donate-list"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,G)),t["\u0275did"](22,278528,null,0,i.n,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Y)),t["\u0275did"](24,16384,null,0,i.o,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](25,0,null,null,1,"gg-payment-methods",[],null,[[null,"selectOption"]],function(n,l,e){var t=!0,u=n.component;"selectOption"===l&&(t=!1!==u.setPaymentOption(e)&&t);return t},O,C)),t["\u0275did"](26,573440,null,0,h,[y.a],{paymentOptions:[0,"paymentOptions"]},{selectOption:"selectOption"}),t["\u0275ncd"](null,1),(n()(),t["\u0275eld"](28,0,null,null,5,"div",[["class","btn btn-green wide"]],[[2,"disabled",null]],[[null,"click"]],function(n,l,e){var t=!0,u=n.component;"click"===l&&(t=!1!==u.payment()&&t);return t},null,null)),t["\u0275pid"](131072,i.b,[t.ChangeDetectorRef]),(n()(),t["\u0275and"](16777216,null,null,1,null,F)),t["\u0275did"](31,16384,null,0,i.o,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,$)),t["\u0275did"](33,16384,null,0,i.o,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,14,0,"7");n(l,17,0,"payment",e.amount),n(l,22,0,e.amounts),n(l,24,0,!e.validAmount()),n(l,26,0,e.settingsPayment),n(l,31,0,e.popupService.checkPopup(e.popups.CREATEPAYMENT)),n(l,33,0,e.popupService.checkPopup(e.popups.REPLENISH))},function(n,l){var e=l.component;n(l,1,0,e.loading),n(l,2,0,t["\u0275nov"](l,6).ngClassUntouched,t["\u0275nov"](l,6).ngClassTouched,t["\u0275nov"](l,6).ngClassPristine,t["\u0275nov"](l,6).ngClassDirty,t["\u0275nov"](l,6).ngClassValid,t["\u0275nov"](l,6).ngClassInvalid,t["\u0275nov"](l,6).ngClassPending),n(l,8,0,e.donatTitle),n(l,11,0,!e.validAmount(),t["\u0275nov"](l,14).maxlength?t["\u0275nov"](l,14).maxlength:null,t["\u0275nov"](l,19).ngClassUntouched,t["\u0275nov"](l,19).ngClassTouched,t["\u0275nov"](l,19).ngClassPristine,t["\u0275nov"](l,19).ngClassDirty,t["\u0275nov"](l,19).ngClassValid,t["\u0275nov"](l,19).ngClassInvalid,t["\u0275nov"](l,19).ngClassPending),n(l,28,0,e.paymentContent&&t["\u0275unv"](l,28,0,t["\u0275nov"](l,29).transform(e.paymentContent.invalid))&&e.validAmount())})}function z(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,H)),t["\u0275did"](2,16384,null,0,i.o,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,N)),t["\u0275did"](4,16384,null,0,i.o,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Z)),t["\u0275did"](6,16384,null,0,i.o,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,null,null,0))],function(n,l){var e=l.component;n(l,2,0,e.popupService.checkPopup(e.popups.PAYMENT)),n(l,4,0,e.popupService.checkPopup(e.popups.STATUSPAY)),n(l,6,0,e.popupService.checkPopup(e.popups.CREATEPAYMENT)||e.popupService.checkPopup(e.popups.REPLENISH))},null)}function B(n){return t["\u0275vid"](2,[t["\u0275pid"](0,k.a,[S.c]),(n()(),t["\u0275eld"](1,0,null,null,17,"div",[["class","donate-wrap-container full task-donate"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,16,"gg-scroller",[["class","donate-inner-wrap"]],null,null,null,x.b,x.a)),t["\u0275did"](3,114688,null,0,R.a,[t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](4,0,null,0,14,"div",[["class","bg-color"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,j)),t["\u0275did"](6,16384,null,0,i.o,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](7,0,null,null,7,"div",[["class","head"]],null,null,null,null,null)),(n()(),t["\u0275eld"](8,0,null,null,5,"div",[["class","title"]],null,null,null,null,null)),(n()(),t["\u0275ted"](9,null,[" "," "])),(n()(),t["\u0275and"](16777216,null,null,1,null,D)),t["\u0275did"](11,16384,null,0,i.o,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,U)),t["\u0275did"](13,16384,null,0,i.o,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](14,0,null,null,0,"div",[["class","icon icon-close3 close"]],null,[[null,"click"]],function(n,l,e){var t=!0,u=n.component;"click"===l&&(t=!1!==u.closeAll()&&t);return t},null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,q)),t["\u0275did"](16,16384,null,0,i.o,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,z)),t["\u0275did"](18,16384,null,0,i.o,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,3,0),n(l,6,0,!e.popupService.checkPopup(e.popups.PAYMENT)),n(l,11,0,e.showHelp),n(l,13,0,e.popupUrl),n(l,16,0,e.help),n(l,18,0,!e.help)},function(n,l){n(l,9,0,l.component.paymentTitle)})}var K=t["\u0275ccf"]("gg-payment",E.a,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"gg-payment",[],null,null,null,B,V)),t["\u0275prd"](512,null,T.a,T.a,[]),t["\u0275did"](2,573440,null,1,E.a,[T.a,M.a,y.a,A.a,_.a,t.ChangeDetectorRef],null,null),t["\u0275qud"](335544320,1,{paymentContent:0})],null,null)},{userId:"userId",objId:"objId",objType:"objType",paymentTitle:"paymentTitle",donatTitle:"donatTitle",minimumAmount:"minimumAmount",showHelp:"showHelp",popupUrl:"popupUrl",popoutForm:"popoutForm",initAmount:"initAmount",paymentData:"paymentData"},{amountChanged:"amountChanged",close:"close",back:"back",paySuccessful:"paySuccessful"},["[help-content]","*","[name-create-payment]"])},GHh1:function(n,l,e){"use strict";e.d(l,"a",function(){return u});var t=e("q9+q"),u=(e("awt7"),function(){return function(n,l){l.addResolver(t.a,n)}}())},a8Be:function(n,l,e){"use strict";var t=e("CcnG"),u=e("/TZZ"),o=e("ZYjt"),i=e("FTOZ"),r=e("q9+q"),a=e("0KrB"),c=e("l1nV");e.d(l,"a",function(){return m});var s=[[".popup-inner[_ngcontent-%COMP%]{min-width:320px;max-width:450px}.payment-form[_ngcontent-%COMP%]{min-width:320px;max-width:450px;height:562px}.payment-form[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{border-radius:0 0 4px 4px}.header[_ngcontent-%COMP%]{position:relative;padding:14px;color:#fff;background-color:#171d30;border-radius:4px 4px 0 0}.title[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center}.title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 14px 0 0;font-size:22px;line-height:32px;color:#fff}.title[_ngcontent-%COMP%]   .icon-tip[_ngcontent-%COMP%]{margin-right:14px;font-size:24px;height:24px;cursor:pointer}.title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:28px;height:28px;padding-top:1px;background:rgba(68,83,126,.5);border-radius:2px;text-align:center}.title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#fff}.title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;font-size:14px;vertical-align:sub}.close[_ngcontent-%COMP%]{position:absolute;top:14px;right:14px;width:34px;height:34px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;justify-content:space-around;font-size:18px;background-color:rgba(68,83,126,.5);border-radius:50%;cursor:pointer}"]],d=t["\u0275crt"]({encapsulation:0,styles:s,data:{}});function p(n){return t["\u0275vid"](2,[t["\u0275pid"](0,u.a,[o.c]),(n()(),t["\u0275eld"](1,0,null,null,10,"div",[["class","popup-block-new"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,9,"div",[["class","popup-inner"]],null,[[null,"ggClickOutside"],["document","mousedown"]],function(n,l,e){var u=!0,o=n.component;"document:mousedown"===l&&(u=!1!==t["\u0275nov"](n,3).clickHandler(e,e.target)&&u);"ggClickOutside"===l&&(u=!1!==o.close()&&u);return u},null,null)),t["\u0275did"](3,16384,null,0,i.a,[t.ElementRef],null,{event:"ggClickOutside"}),(n()(),t["\u0275eld"](4,0,null,null,4,"div",[["class","header"]],null,null,null,null,null)),(n()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","title"]],null,null,null,null,null)),(n()(),t["\u0275eld"](6,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),t["\u0275ted"](7,null,["",""])),(n()(),t["\u0275eld"](8,0,null,null,0,"div",[["class","icon icon-close3 close"]],null,[[null,"click"]],function(n,l,e){var t=!0,u=n.component;"click"===l&&(t=!1!==u.close()&&t);return t},null,null)),(n()(),t["\u0275eld"](9,0,null,null,2,"div",[["class","payment-form"]],null,null,null,null,null)),(n()(),t["\u0275eld"](10,0,null,null,1,"iframe",[["frameborder","0"],["style","width: 100%; height: 100%; border: 0;"]],[[8,"src",5]],null,null,null,null)),t["\u0275ppd"](11,2)],null,function(n,l){var e=l.component;n(l,7,0,e.inputData.title||"\u0414\u043e\u043d\u0430\u0442");var u=t["\u0275unv"](l,10,0,n(l,11,0,t["\u0275nov"](l,0),e.inputData.url,"resourceUrl"));n(l,10,0,u)})}var m=t["\u0275ccf"]("gg-payment-form-popup",r.a,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"gg-payment-form-popup",[],null,null,null,p,d)),t["\u0275did"](1,114688,null,0,r.a,[a.a,c.a],null,null)],function(n,l){n(l,1,0)},null)},{},{},[])},bIsG:function(n,l,e){"use strict";e.d(l,"a",function(){return r});var t=e("mrSG"),u=e("CcnG"),o=e("Rwxb"),i=(e("gfQ2"),e("0KrB"),e("tho4"),e("awt7"),e("q9+q")),r=function(){function n(n,l,e,t,i,r){this.popupService=n,this.modalService=l,this.localStorageService=e,this.paymentService=t,this.createPaymentService=i,this.cd=r,this.minimumAmount=10,this.showHelp=!1,this.popupUrl="",this.popoutForm=!0,this.initAmount=100,this.amountChanged=new u.EventEmitter,this.close=new u.EventEmitter,this.back=new u.EventEmitter,this.paySuccessful=new u.EventEmitter,this.amounts=[50,100,300,500,1e3,2e3],this.disabled=!0,this.loading=!1,this.help=!1,this.color=!1,this.hide=!1,this.popups=o.a,this._amount=0}return Object.defineProperty(n.prototype,"amount",{get:function(){return this._amount},set:function(n){this.amountChanged.emit(n),this._amount=n},enumerable:!0,configurable:!0}),n.prototype.ngOnChanges=function(n){this.settingsPayment||this.initSettings();var l=Object.keys(n);if(1==l.length&&"initAmount"==l[0])return!1;this.amount=Math.max(this.initAmount,this.minimumAmount),this.objId&&32==this.objType?this.popupService.checkPopup(o.a.REPLENISH)||this.popupService.toggle(o.a.REPLENISH):this.popupService.checkPopup(o.a.CREATEPAYMENT)||this.popupService.toggle(o.a.CREATEPAYMENT)},n.prototype.initSettings=function(){return t.e(this,void 0,void 0,function(){var n;return t.h(this,function(l){switch(l.label){case 0:return this.objType?(n=this,[4,this.paymentService.getPaymentProviders(this.objType)]):[2];case 1:return n.settingsPayment=l.sent(),this.cd.detectChanges(),[2]}})})},n.prototype.closeAll=function(){console.log("close all"),this.close.emit(),this.back.emit()},n.prototype.btnShowHelp=function(){this.help=!this.help,Utils.reachGoal("donate_rewards_click")},n.prototype.setPaymentOption=function(n){this.paymentOption=n},n.prototype.repeatPayment=function(){this.popupService.toggle(o.a.CREATEPAYMENT),this.loading=!1,this.disabled=!1,this.error=""},n.prototype.payment=function(){return t.e(this,void 0,void 0,function(){var n,l,e,u,o,i;return t.h(this,function(r){switch(r.label){case 0:if(!this.validAmount())return[2,!1];this.paymentOption&&this.localStorageService.setItem("remember_donat_provider",this.paymentOption.providerId),this.loadPayment(),r.label=1;case 1:return r.trys.push([1,9,,10]),this.paymentContent?[4,this.paymentContent.getContent()]:[3,3];case 2:return l=r.sent(),[3,4];case 3:l={},r.label=4;case 4:return n=l,[4,this.createPaymentService.createPayment({userId:this.userId,objId:this.objId,options:t.a({},n),paymentData:this.paymentData})];case 5:return e=r.sent(),u=this.amount,[4,this.paymentService.pay(e,u,this.paymentOption)];case 6:return o=r.sent(),console.log({payment:o}),!0===o?[3,8]:[4,this.loadUrl(o)];case 7:r.sent(),r.label=8;case 8:return console.log("paySuccessful emit"),this.paySuccessful.emit({amount:this.amount}),[3,10];case 9:return i=r.sent(),console.error(i),this.paymentError(i),[3,10];case 10:return[2]}})})},n.prototype.paymentError=function(n){n&&(this.error=n,this.popupService.toggle(o.a.STATUSPAY),this.cd.detectChanges())},n.prototype.openNewWindow=function(){window.open(this.popupUrl,"_blank")},n.prototype.setPresetAmount=function(n){this.amount=n,Utils.reachGoal("donate_preset_select")},n.prototype.validAmount=function(){return this.amount>=this.minimumAmount},n.prototype.loadUrl=function(n){return t.e(this,void 0,void 0,function(){return t.h(this,function(l){switch(l.label){case 0:return this.url=n,this.popoutForm?[4,this.modalService.open(i.a,{url:n}).result]:[3,2];case 1:return[2,l.sent()];case 2:return this.popupService.toggle(o.a.PAYMENT),this.cd.detectChanges(),[4,this.paymentService.waitForCallback()];case 3:return[2,l.sent()]}})})},n.prototype.loadPayment=function(){this.loading=!0,this.disabled=!0},n}()},"q9+q":function(n,l,e){"use strict";e.d(l,"a",function(){return t});e("awt7"),e("0KrB");var t=function(){function n(n,l){var e=this;this.paymentService=n,this.modalService=l,this.result=new Promise(function(n,l){e.resolve=n,e.reject=l})}return n.prototype.ngOnInit=function(){var n=this;this.paymentService.waitForCallback().then(function(l){return n.resolve(l)}).catch(function(l){return n.reject(l)}).then(function(){return n.modalService.close()})},n.prototype.close=function(){this.reject("canceled"),this.modalService.close()},n}()},tho4:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=function(){return function(){}}()}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{"8yZx":function(n,l,e){"use strict";var t=function(){function n(){}return n.PNG="png",n.JPG="jpg",n.JPEG="jpeg",n.GIF="gif",n.defaultFormats=[n.PNG,n.JPG,n.JPEG,n.GIF],n.backgroundFormats=[n.PNG,n.JPG,n.JPEG],n}(),u=(function(){function n(){}n._4K={wMax:4096,hMax:3072,hMin:0,wMin:0}}(),e("XHvd"));e.d(l,"a",function(){return t}),e.d(l,"b",function(){return u.a})},"G/Y4":function(n,l,e){"use strict";var t;e.d(l,"a",function(){return t}),function(n){n.SmilePattern="/images/profile/smile_pattern.png",n.GamePoster="/images/default_game_poster.png",n.CupPoster="/images/posters/TourneyDefaultPoster.jpg",n.CupTeamLogo="team_def_logo.png"}(t||(t={}))},LtGS:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=function(){return function(){}}()},RB2V:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),u=e("mrSG"),o=e("RZZm"),r=(e("QYmF"),e("eqxy")),i=e("xfl0"),a=e("8yZx"),d=function(){function n(n,l){this.userGalleryService=n,this.userService=l,this.objType=a.b.USER,this.onPage=2,this.page=1,this.albums=i.a.factory(o.a,1),this.loaded=!1,console.log("ProfileGalleryComponent constructor")}return n.prototype.ngOnInit=function(){return u.e(this,void 0,void 0,function(){var n,l=this;return u.h(this,function(e){return console.log("ProfileGalleryComponent ngOnInit"),this.userService.hasGallery()?(n={obj_id:this.objId,page:this.page,onPage:this.onPage,obj_type:this.objType},this.userGalleryService.query(n).$observable.subscribe(function(n){l.albums=n,l.loaded=!0}),[2]):[2]})})},n.prototype.ngOnChanges=function(){var n=this;this.userService.hasGallery()&&this.userGalleryService.query({obj_id:this.objId,page:this.page,onPage:this.onPage,obj_type:this.objType}).$observable.subscribe(function(l){return n.albums=l})},n.prototype.createGallery=function(){var n=this,l="\u0413\u0430\u043b\u0435\u0440\u0435\u044f "+(this.albums.length+1);this.userGalleryService.createGallery({obj_id:this.objId,obj_type:this.objType,title:l}).$observable.subscribe(function(l){n.albums.push(l),window.location.href="/gallery?albumId="+l.id})},n}(),c=d,s=function(){return function(){}}(),p=e("pMnS"),f=e("ie4N"),m=e("4Azl"),b=e("ZEky"),h=e("Ip0R"),g=e("9Za/"),y=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function v(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"gg-gallery-album-cover",[],[[2,"dummy",null]],null,null,m.b,m.a)),t["\u0275did"](2,114688,null,0,b.a,[],{userId:[0,"userId"],album:[1,"album"],isUpgrade:[2,"isUpgrade"]},null)],function(n,l){n(l,2,0,l.component.objId,l.context.$implicit,!0)},function(n,l){n(l,1,0,!l.component.loaded)})}function j(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,7,"div",[["class","dashboard-block gallery-profile"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,6,"div",[["class","dashboard-inner"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,2,"h2",[],null,null,null,null,null)),(n()(),t["\u0275eld"](3,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u0424\u043e\u0442\u043e\u0433\u0430\u043b\u0435\u0440\u0435\u0438"])),(n()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","galleries-list"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,v)),t["\u0275did"](7,278528,null,0,h.n,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,7,0,l.component.albums)},function(n,l){var e=l.component;n(l,3,0,t["\u0275inlineInterpolate"](1,"/user/",e.objId,"/galleries"))})}function I(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","form-group new-gallery"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,0,"input",[["class","btn btn-transparent"],["type","button"],["value","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0430\u043b\u0435\u0440\u0435\u044e"]],null,[[null,"click"]],function(n,l,e){var t=!0,u=n.component;"click"===l&&(t=!1!==u.createGallery()&&t);return t},null,null))],null,null)}function G(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,j)),t["\u0275did"](2,16384,null,0,h.o,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,I)),t["\u0275did"](4,16384,null,0,h.o,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,null,null,0))],function(n,l){var e=l.component;n(l,2,0,e.albums.length),n(l,4,0,!e.albums.length&&(null==e.userService.user?null:e.userService.user.hasAccess(e.objId))&&e.loaded)},null)}function P(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,G)),t["\u0275did"](1,16384,null,0,h.o,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,1,0,l.component.userService.hasGallery())},null)}var F=t["\u0275ccf"]("gg-profile-gallery",d,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"gg-profile-gallery",[],null,null,null,P,y)),t["\u0275did"](1,638976,null,0,d,[r.a,g.a],null,null)],function(n,l){n(l,1,0)},null)},{objId:"objId"},{},[]),O=e("sE5F"),S=e("t/Na"),R=e("kqOZ"),C=e("uzXs"),w=e("tAj7"),T=e("iJt5"),E=e("ZYCi"),A=e("bDe0"),_=e("ZYjt"),M=e("p4IN"),k=e("EREx"),x=e("JQlr"),N=e("4x4Y"),J=e("ofbX"),Z=e("gIcY"),L=e("z4T6"),q=e("u0Ar"),U=e("QNXI"),X=e("LtGS"),D=e("ETco");e.d(l,"ProfileGalleryModuleNgFactory",function(){return K});var K=t["\u0275cmf"](s,[],function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[p.a,f.a,F]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,h.q,h.p,[t.LOCALE_ID,[2,h.F]]),t["\u0275mpd"](4608,O.c,O.c,[]),t["\u0275mpd"](4608,O.j,O.b,[]),t["\u0275mpd"](5120,O.m,O.n,[]),t["\u0275mpd"](4608,O.l,O.l,[O.c,O.j,O.m]),t["\u0275mpd"](4608,O.i,O.a,[]),t["\u0275mpd"](5120,O.e,O.o,[O.l,O.i]),t["\u0275mpd"](4608,S.l,S.r,[h.d,t.PLATFORM_ID,S.p]),t["\u0275mpd"](4608,S.s,S.s,[S.l,S.q]),t["\u0275mpd"](5120,S.a,function(n){return[n]},[S.s]),t["\u0275mpd"](4608,S.o,S.o,[]),t["\u0275mpd"](6144,S.m,null,[S.o]),t["\u0275mpd"](4608,S.k,S.k,[S.m]),t["\u0275mpd"](6144,S.b,null,[S.k]),t["\u0275mpd"](4608,S.g,S.n,[S.b,t.Injector]),t["\u0275mpd"](4608,S.c,S.c,[S.g]),t["\u0275mpd"](4608,R.a,R.a,[]),t["\u0275mpd"](4608,C.a,C.a,[]),t["\u0275mpd"](4608,w.a,w.a,[O.e]),t["\u0275mpd"](4608,T.a,T.a,[E.o,h.j]),t["\u0275mpd"](4608,A.a,A.a,[_.c,M.a]),t["\u0275mpd"](4608,k.a,k.a,[S.c]),t["\u0275mpd"](4608,x.a,x.a,[S.c]),t["\u0275mpd"](4608,N.a,N.a,[]),t["\u0275mpd"](4608,J.b,J.b,[]),t["\u0275mpd"](4608,Z.F,Z.F,[]),t["\u0275mpd"](4608,r.a,r.a,[O.e]),t["\u0275mpd"](1073742336,h.c,h.c,[]),t["\u0275mpd"](1073742336,E.r,E.r,[[2,E.y],[2,E.o]]),t["\u0275mpd"](1073742336,O.f,O.f,[]),t["\u0275mpd"](1073742336,S.e,S.e,[]),t["\u0275mpd"](1073742336,S.d,S.d,[]),t["\u0275mpd"](1073742336,L.a,L.a,[]),t["\u0275mpd"](1073742336,q.a,q.a,[]),t["\u0275mpd"](1073742336,U.a,U.a,[t.Injector]),t["\u0275mpd"](1073742336,Z.B,Z.B,[]),t["\u0275mpd"](1073742336,Z.n,Z.n,[]),t["\u0275mpd"](1073742336,X.a,X.a,[]),t["\u0275mpd"](1073742336,s,s,[]),t["\u0275mpd"](256,S.p,"XSRF-TOKEN",[]),t["\u0275mpd"](256,S.q,"X-XSRF-TOKEN",[]),t["\u0275mpd"](256,D.a,c,[])])})},RZZm:function(n,l,e){"use strict";e.d(l,"c",function(){return t}),e.d(l,"a",function(){return u}),e.d(l,"b",function(){return o});var t=function(){return function(n,l){void 0===n&&(n=!1),void 0===l&&(l=0),this.loaded=!1,this.id=l,this.loading=n}}(),u=function(){return function(n){void 0===n&&(n=[]),this.images=[],this.images=n}}(),o=function(){return function(){}}()},XHvd:function(n,l,e){"use strict";var t;e.d(l,"a",function(){return t}),t||(t={}),t.USER=9,t.ALBUM=15,t.PHOTO=16,t.MATERIALS=1,t.TOPIC=11,t.COMMENT=6,t.Stream_Channel=7,t.CUP=26,t.JOB=32,t.PLUS=24},eqxy:function(n,l,e){"use strict";e.d(l,"a",function(){return a});var t=e("mrSG"),u=e("MbgK"),o=e("W2Km"),r=e("sE5F"),i=e("CcnG"),a=function(n){function l(){return null!==n&&n.apply(this,arguments)||this}return t.g(l,n),l.prototype.getCacheKey=function(n){if(n.method===r.h.Get){var l=n.url.split("/");return"album-"+l[l.length-2]+"/"+l[l.length-1]}return""},l.ngInjectableDef=i.defineInjectable({factory:function(){return new l(i.inject(r.e))},token:l,providedIn:"root"}),t.f([Object(u.b)({path:"/user/{!id}"}),t.j("design:type",Function)],l.prototype,"getGalleryForUserProfile",void 0),t.f([Object(u.b)({path:"/{!albumId}/sort",method:r.h.Post}),t.j("design:type",Function)],l.prototype,"sortImages",void 0),t.f([Object(u.b)({path:"/sort",method:r.h.Post}),t.j("design:type",Function)],l.prototype,"sortAlbums",void 0),t.f([Object(u.b)({path:"/{!albumId}/private",method:r.h.Post}),t.j("design:type",Function)],l.prototype,"changePrivacy",void 0),t.f([Object(u.b)({path:"/{!id}",method:r.h.Put}),t.j("design:type",Function)],l.prototype,"changeTitle",void 0),t.f([Object(u.b)({path:"/{!id}/obj"}),t.j("design:type",Function)],l.prototype,"getGallery",void 0),t.f([Object(u.b)({method:r.h.Post}),t.j("design:type",Function)],l.prototype,"createGallery",void 0),t.f([Object(u.b)({path:"/{!albumId}/{!photoId}",method:r.h.Put}),t.j("design:type",Function)],l.prototype,"saveEditingTitlePhoto",void 0),t.f([Object(u.b)({path:"/{!albumId}/{!photoId}",method:r.h.Delete}),t.j("design:type",Function)],l.prototype,"deletePhoto",void 0),t.f([Object(u.b)({path:"/{!id}/access",method:r.h.Get}),t.j("design:type",Function)],l.prototype,"hasAccess",void 0),l=t.f([Object(u.c)({pathPrefix:"gallery"})],l)}(o.c)},xfl0:function(n,l,e){"use strict";var t=e("mrSG"),u=function(){function n(){}return n.factory=function(n,l,e){return void 0===e&&(e=[]),new Array(l).fill(new(n.bind.apply(n,t.m([void 0],e))))},n.factoryFunc=function(n,l){return new Array(n).fill(0).map(function(n,e){return l(e)})},n.value=function(n,l){return new Array(l).fill(n)},n.empty=function(n){return new Array(n).fill({})},n}();e.d(l,"a",function(){return u})}}]);
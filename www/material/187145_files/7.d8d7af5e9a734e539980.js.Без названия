(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"+R50":function(n,e,t){"use strict";var l=t("CcnG"),u=t("Ip0R"),o=t("YANC");t.d(e,"b",function(){return r}),t.d(e,"c",function(){return a}),t.d(e,"a",function(){return s});var i=[["[_nghost-%COMP%]   .transparent[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   .transparent[_ngcontent-%COMP%]   .spoiler-head[_ngcontent-%COMP%]{color:#fff;background-color:transparent;padding:0}[_nghost-%COMP%]   .transparent[_ngcontent-%COMP%]   .spoiler-content[_ngcontent-%COMP%]{padding:0;border:0}"]],r=l["\u0275crt"]({encapsulation:0,styles:i,data:{}});function c(n){return l["\u0275vid"](0,[l["\u0275ncd"](null,0),(n()(),l["\u0275and"](0,null,null,0))],null,null)}function a(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,6,"div",[["class","spoiler-block"]],[[2,"active",null],[2,"transparent",null]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,3,"div",[["class","spoiler-head"],["data-hide","\u0441\u043a\u0440\u044b\u0442\u044c"],["data-show","\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"]],null,[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!=(u.isActive=!u.isActive)&&l);return l},null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,c)),l["\u0275did"](3,16384,null,0,u.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275ted"](4,null,[" "," "])),(n()(),l["\u0275eld"](5,0,null,null,1,"div",[["class","spoiler-content"]],null,null,null,null,null)),l["\u0275ncd"](null,1)],function(n,e){n(e,3,0,!e.component.title)},function(n,e){var t=e.component;n(e,0,0,t.active||t.isActive,t._transparent),n(e,4,0,t.title)})}var s=l["\u0275ccf"]("gg-spoiler",o.a,function(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"gg-spoiler",[],[[2,"spoiler",null]],null,null,a,r)),l["\u0275did"](1,49152,null,0,o.a,[],null,null)],null,function(n,e){n(e,0,0,!0)})},{title:"title",active:"active",transparent:"transparent"},{},["[gg-spoiler-title]","*"])},"/JgG":function(n,e,t){"use strict";t.d(e,"a",function(){return o});var l=t("CcnG"),u=t("8yZx"),o=(t("9jgm"),t("QYmF"),function(){function n(n,e){this.complaintService=n,this.userService=e,this.color="",this.close=new l.EventEmitter,this.type=u.b.TOPIC,this.ObjType=u.b,this.causeComplaint=0,this.textComplaint=""}return n.prototype.ngOnInit=function(){if(!this.userService.user)return this.userService.showLogin("\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0443\u0439\u0442\u0435\u0441\u044c, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u0430\u0442\u044c \u0436\u0430\u043b\u043e\u0431\u0443."),void this.close.emit(!1)},n.prototype.sendComplaint=function(){this.complaintService.complain({type:this.objType,id:this.objId,msg:this.textComplaint,reason:this.causeComplaint}).$observable.subscribe(function(n){return n.success&&window.alert("\u0412\u0430\u0448\u0430 \u0436\u0430\u043b\u043e\u0431\u0430 \u043f\u0440\u0438\u043d\u044f\u0442\u0430")}),this.close.emit(!1)},n.prototype.changeComplain=function(n){this.causeComplaint=n},n}())},"1qT8":function(n,e,t){"use strict";t.d(e,"a",function(){return u});var l=t("CcnG"),u=function(){function n(){this.arrayRequests=[]}return n.prototype.pushRequest=function(n){this.arrayRequests.push(n)},n.prototype.abort=function(){this.arrayRequests.forEach(function(n){return n.$abortRequest()}),this.arrayRequests=[]},n.ngInjectableDef=l.defineInjectable({factory:function(){return new n},token:n,providedIn:"root"}),n}()},"26J2":function(n,e,t){"use strict";t.d(e,"a",function(){return r});var l=t("mrSG"),u=t("sE5F"),o=t("W2Km"),i=t("MbgK"),r=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return l.g(e,n),l.f([Object(i.b)({method:u.h.Post}),l.j("design:type",Function)],e.prototype,"vote",void 0),l.f([Object(i.b)({path:"/voters/?objType={!objType}&objId={!objId}",method:u.h.Get,isArray:!0}),l.j("design:type",Function)],e.prototype,"whoVoted",void 0),e=l.f([Object(i.c)({pathPrefix:"rating"})],e)}(o.b)},"4Vdc":function(n,e,t){"use strict";t.d(e,"a",function(){return u});var l=t("YbgN"),u=(t("awt7"),function(){return function(n,e){e.addResolver(l.a,n)}}())},"8yZx":function(n,e,t){"use strict";var l=function(){function n(){}return n.PNG="png",n.JPG="jpg",n.JPEG="jpeg",n.GIF="gif",n.defaultFormats=[n.PNG,n.JPG,n.JPEG,n.GIF],n.backgroundFormats=[n.PNG,n.JPG,n.JPEG],n}(),u=(function(){function n(){}n._4K={wMax:4096,hMax:3072,hMin:0,wMin:0}}(),t("XHvd"));t.d(e,"a",function(){return l}),t.d(e,"b",function(){return u.a})},"9jgm":function(n,e,t){"use strict";t.d(e,"a",function(){return r});var l=t("mrSG"),u=t("MbgK"),o=t("UBVM"),i=t("sE5F"),r=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return l.g(e,n),l.f([Object(u.b)({method:i.h.Post}),l.j("design:type",Function)],e.prototype,"complain",void 0),e=l.f([Object(u.c)({pathPrefix:"complain"})],e)}(o.a)},AAay:function(n,e,t){"use strict";var l=t("CcnG"),u=t("zf8C"),o=t("AtGD"),i=t("eyyE"),r=t("tkx6"),c=t("yGQT"),a=t("UshD"),s=t("9Za/"),d=t("c8J3"),p=t("maVL"),f=function(){function n(n,e,t){this.quillService=n,this.elementRef=e,this.cd=t,this.editor=new d.n,this.isActiveLink=!1}return n.prototype.ngOnInit=function(){var n=this;this.quillService.selected$.subscribe(function(e){n.editor=e,n.isActiveLink=!1,n.cd.detectChanges()})},n.prototype.bold=function(){this.quillService.setBold(!this.editor.bold.active)},n.prototype.italic=function(){this.quillService.setItalic(!this.editor.italic.active)},n.prototype.link=function(n,e){var t=this;return void 0===n&&(n=null),void 0===e&&(e=null),e&&e.preventDefault(),n||this.editor.link.active?(this.quillService.setLink(n),this.isActiveLink=!1,this.cd.detectChanges(),!1):(this.isActiveLink=!0,setTimeout(function(){return t.element.nativeElement.focus()}),!0)},n.prototype.delete=function(){this.quillService.setDelete(!this.editor.del.active)},n.prototype.underline=function(){this.quillService.setUnderline(!this.editor.under.active)},n.prototype.ins=function(){this.quillService.setIns(!this.editor.ins.active)},n.prototype.divider=function(){this.quillService.appendDivider()},n.prototype.spoiler=function(){var n=this.quillService._quill.getSelection(!0);this.quillService.appendSpoiler(n)},n.prototype.orderedList=function(){this.quillService.list(this.editor.orderedList.active?void 0:d.m.formatType)},n.prototype.unorderedList=function(){this.quillService.list(this.editor.unorderedList.active?void 0:d.p.formatType)},n.prototype.header=function(n){this.quillService.setHeader(n)},n.prototype.cite=function(){this.quillService.appendCite("https://goodgame.ru/")},n}(),m=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function b(n){return l["\u0275vid"](2,[l["\u0275qud"](402653184,1,{element:0}),(n()(),l["\u0275eld"](1,0,null,null,22,"div",[["class","tl_tooltip move_anim"],["id","_tl_tooltip"]],[[2,"shown",null]],null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,2,"div",[["class","link-block"]],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275eld"](3,0,[[1,0],["inputLink",1]],null,0,"input",[["placeholder","\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443"],["type","text"]],null,[[null,"keydown.enter"]],function(n,e,t){var u=!0,o=n.component;"keydown.enter"===e&&(o.link(l["\u0275nov"](n,3).value,t),u=!1!==(l["\u0275nov"](n,3).value="")&&u);return u},null,null)),(n()(),l["\u0275eld"](4,0,null,null,0,"div",[["class","icon-editor icon-cancel-icon-editor"]],null,[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!=(u.isActiveLink=!1)&&l);return l},null,null)),(n()(),l["\u0275eld"](5,0,null,null,14,"div",[["class","buttons"]],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,0,"span",[["class","button_hover"]],null,null,null,null,null)),(n()(),l["\u0275eld"](7,0,null,null,12,"span",[["class","button_group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,1,"button",[["id","_header_button"]],[[2,"active",null]],[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.header(u.editor.h3.active?0:3)&&l);return l},null,null)),(n()(),l["\u0275eld"](9,0,null,null,0,"span",[["class","icon-editor icon-h2-icon-editor"]],null,null,null,null,null)),(n()(),l["\u0275eld"](10,0,null,null,1,"button",[["id","_bold_button"]],[[2,"active",null]],[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.bold()&&l);return l},null,null)),(n()(),l["\u0275eld"](11,0,null,null,0,"span",[["class","icon-editor icon-bold-icon-editor"]],null,null,null,null,null)),(n()(),l["\u0275eld"](12,0,null,null,1,"button",[["id","_italic_button"]],[[2,"active",null]],[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.italic()&&l);return l},null,null)),(n()(),l["\u0275eld"](13,0,null,null,0,"span",[["class","icon-editor icon-italic-icon-editor"]],null,null,null,null,null)),(n()(),l["\u0275eld"](14,0,null,null,1,"button",[],[[2,"active",null]],[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.underline()&&l);return l},null,null)),(n()(),l["\u0275eld"](15,0,null,null,0,"span",[["class","icon-editor icon-underline-icon-editor"]],null,null,null,null,null)),(n()(),l["\u0275eld"](16,0,null,null,1,"button",[],[[2,"active",null]],[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.delete()&&l);return l},null,null)),(n()(),l["\u0275eld"](17,0,null,null,0,"span",[["class","icon-editor icon-strikethrough-icon-editor"]],null,null,null,null,null)),(n()(),l["\u0275eld"](18,0,null,null,1,"button",[["id","_link_button"]],[[2,"active",null]],[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.link()&&l);return l},null,null)),(n()(),l["\u0275eld"](19,0,null,null,0,"span",[["class","icon-editor icon-insertlink-icon-editor"]],null,null,null,null,null)),(n()(),l["\u0275eld"](20,0,null,null,3,"div",[["class","prompt"]],null,null,null,null,null)),(n()(),l["\u0275eld"](21,0,null,null,0,"span",[["class","close"]],null,null,null,null,null)),(n()(),l["\u0275eld"](22,0,null,null,1,"div",[["class","prompt_input_wrap"]],null,null,null,null,null)),(n()(),l["\u0275eld"](23,0,null,null,0,"input",[["class","prompt_input"],["type","url"]],null,null,null,null,null))],null,function(n,e){var t=e.component;n(e,1,0,t.editor.active),n(e,2,0,!t.isActiveLink),n(e,5,0,t.isActiveLink),n(e,8,0,t.editor.h3.active),n(e,10,0,t.editor.bold.active),n(e,12,0,t.editor.italic.active),n(e,14,0,t.editor.under.active),n(e,16,0,t.editor.del.active),n(e,18,0,t.editor.link.active)})}l["\u0275ccf"]("gg-editor-tooltip",f,function(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"gg-editor-tooltip",[],null,null,null,b,m)),l["\u0275did"](1,114688,null,0,f,[p.a,l.ElementRef,l.ChangeDetectorRef],null,null)],function(n,e){n(e,1,0)},null)},{editor:"editor"},{},[]);var v=t("Ip0R"),g=t("m3D3"),h=t("uej8"),y=t("ofbX"),O=t("K2B/"),j=t("ZYjt"),C=t("l1nV"),w=t("bDe0"),P=t("WIzN");t.d(e,"a",function(){return S}),t.d(e,"b",function(){return T});var S=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function I(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,6,"div",[["class","big-smiles"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,5,"div",[["class","popup-block smiles"],["id","smiles"],["style","display: inline; padding: 0 10px 16px;"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,4,"div",[["class","smiles-panel"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,3,"gg-scroller",[],null,null,null,u.b,u.a)),l["\u0275did"](4,114688,null,0,o.a,[l.ElementRef,l.NgZone],null,null),(n()(),l["\u0275eld"](5,0,null,0,1,"gg-smiles-selector",[],null,[[null,"pasteSmile"]],function(n,e,t){var l=!0,u=n.component;"pasteSmile"===e&&(l=!1!==u.pasteSmile(t)&&l);return l},i.c,i.a)),l["\u0275did"](6,114688,null,0,r.a,[c.n,a.a,s.a],null,{pasteSmile:"pasteSmile"})],function(n,e){n(e,4,0),n(e,6,0)},null)}function T(n){return l["\u0275vid"](2,[(n()(),l["\u0275eld"](0,0,null,null,17,"div",[["class","gg-editor-wrapper big-smiles"]],[[2,"show-placeholder",null],[2,"topic",null]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,16,"div",[["class","textarea-block typography-block"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"span",[["class","placeholder"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"])),(n()(),l["\u0275eld"](4,0,null,null,5,"div",[["class","textarea-editor-wrap"]],null,[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.focusToEditor(!1,t)&&l);return l},null,null)),(n()(),l["\u0275eld"](5,0,null,null,4,"gg-scroller",[["class","textarea-editor"]],null,null,null,u.b,u.a)),l["\u0275did"](6,114688,null,0,o.a,[l.ElementRef,l.NgZone],null,null),(n()(),l["\u0275eld"](7,0,null,0,1,"gg-editor-tooltip",[["class","ql-container"]],null,null,null,b,m)),l["\u0275did"](8,114688,null,0,f,[p.a,l.ElementRef,l.ChangeDetectorRef],null,null),(n()(),l["\u0275eld"](9,0,null,0,0,"div",[["class","gg-editor-textarea"]],null,null,null,null,null)),(n()(),l["\u0275eld"](10,0,null,null,7,"div",[["class","controls-block-wrap"]],null,null,null,null,null)),(n()(),l["\u0275eld"](11,0,null,null,6,"div",[["class","controls-block"]],null,null,null,null,null)),(n()(),l["\u0275eld"](12,0,null,null,3,"div",[["title","\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u043c\u0430\u0439\u043b\u0438\u043a"]],[[2,"active",null]],[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.toggleSmilesFunc()&&l);return l},null,null)),(n()(),l["\u0275eld"](13,0,null,null,0,"div",[["class","icon-editor icon-smile-icon-editor"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,I)),l["\u0275did"](15,16384,null,0,v.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](16,0,null,null,0,"div",[["class","icon-editor icon-image-icon-editor"],["title","\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"]],null,[[null,"mousedown"]],function(n,e,t){var l=!0,u=n.component;"mousedown"===e&&(l=!1!==u.img()&&l);return l},null,null)),(n()(),l["\u0275eld"](17,0,null,null,0,"div",[["class","icon-editor icon-spoiler-icon-editor"],["title","\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u043f\u043e\u0439\u043b\u0435\u0440"]],null,[[null,"mousedown"]],function(n,e,t){var l=!0,u=n.component;"mousedown"===e&&(l=!1!==u.spoiler()&&l);return l},null,null))],function(n,e){var t=e.component;n(e,6,0),n(e,8,0),n(e,15,0,t.toggleSmiles)},function(n,e){var t=e.component;n(e,0,0,t.isEmptyText,t.type===t.TypeQuill.TOPIC),n(e,12,0,t.toggleSmiles)})}l["\u0275ccf"]("gg-editor",O.a,function(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,"gg-editor",[],null,null,null,T,S)),l["\u0275prd"](512,null,g.a,g.a,[]),l["\u0275prd"](512,null,p.a,p.a,[h.a,g.a]),l["\u0275prd"](512,null,y.b,y.b,[]),l["\u0275did"](4,4964352,null,0,O.a,[p.a,j.c,y.b,C.a,l.ChangeDetectorRef,l.ElementRef,w.a,l.NgZone,P.a],null,null)],function(n,e){n(e,4,0)},null)},{value:"value",type:"type",plus:"plus"},{changeContent:"changeContent"},[])},DUJp:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=function(){return function(){}}()},FYqj:function(n,e,t){"use strict";var l,u=t("xfl0");!function(n){n.SHORT="SHORT",n.SEMI_SHORT="SEMI_SHORT",n.FULL="FULL"}(l||(l={}));var o=function(){return function(){this.top=[],this.info=new c,this.user=new a,this.comments={},this.activeComments={},this.loadingSend=!1,this.activeSend=l.SHORT}}(),i=(function(){}(),function(){return function(){this.comments=u.a.factory(r,15),this.info=new c,this.top=[],this.user=new a}}()),r=function(){return function(){this.id=-1,this.text=""}}(),c=(function(){}(),function(){return function(){this.cqty=-1}}()),a=function(){return function(){}}();t.d(e,"a",function(){return l}),t.d(e,"f",function(){return o}),t.d(e,"d",function(){return i}),t.d(e,"b",function(){return r}),t.d(e,"e",function(){return c}),t.d(e,"c",function(){return a})},"G/VZ":function(n,e,t){"use strict";t.d(e,"a",function(){return a});var l=t("CcnG"),u=(t("QYmF"),t("ZFVk"),t("K2B/"),t("XWE+")),o=(t("maVL"),t("FYqj")),i=t("yGQT"),r=t("k1e/"),c=t("bOQv"),a=function(){function n(n,e,t,i){this.quillService=n,this.store=e,this.elRef=t,this.userService=i,this.onSendMessage=new l.EventEmitter,this.type=u.a.COMMENT,this.value="<p><br/></p>",this.ActiveSendComment=o.a}return n.prototype.ngOnInit=function(){this.loading$=this.store.pipe(Object(i.E)(Object(c.f)(this.objId,this.objType))),this.active$=this.store.pipe(Object(i.E)(Object(c.d)(this.objId,this.objType)))},n.prototype.ngAfterViewInit=function(){this.bindKeys()},n.prototype.bindKeys=function(){var n=this;this.elRef.nativeElement.addEventListener("keydown",function(e){13==e.which&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),n.clickSend())})},n.prototype.setActive=function(n,e){var t=this;if(n.target.classList.contains("btn"))return!1;e!==o.a.FULL&&(this.store.dispatch(new r.m({objData:this.objData,value:o.a.FULL})),setTimeout(function(){return t.editor.focusToEditor(!0)}))},n.prototype.getStatusActive=function(){return this.editor.isEmpty()?o.a.SHORT:o.a.SEMI_SHORT},n.prototype.clickOutside=function(){this.store.dispatch(new r.m({objData:this.objData,value:this.getStatusActive()})),this.editor.clickOutside()},n.prototype.clickCancel=function(){this.editor.setHTML(""),this.store.dispatch(new r.m({objData:this.objData,value:this.getStatusActive()}))},n.prototype.clickSend=function(){if(this.userService.user){if(this.editor.isEmpty())return this.clickCancel();var n=this.editor.getContent();this.onSendMessage.emit(n),this.editor.setHTML(""),this.editor.clickOutside()}else this.userService.showLogin("\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0443\u0439\u0442\u0435\u0441\u044c, \u0447\u0442\u043e\u0431\u044b \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438.")},Object.defineProperty(n.prototype,"objData",{get:function(){return{objId:this.objId,objType:this.objType}},enumerable:!0,configurable:!0}),n}()},"K+25":function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=function(){return function(){}}()},"K2B/":function(n,e,t){"use strict";t.d(e,"a",function(){return a});var l=t("mrSG"),u=t("CcnG"),o=(t("awt7"),t("MUcC")),i=(t("mSP8"),t("hzBs")),r=t("ofbX"),c=(t("maVL"),t("XWE+")),a=(t("WIzN"),function(){function n(n,e,t,l,o,i,r,a,s){this.quillService=n,this.sanitaizer=e,this.pasteToInput=t,this.modalService=l,this.cd=o,this.elRef=i,this.utils=r,this.zone=a,this.userPremiumService=s,this.type=c.a.COMMENT,this.plus=!1,this.changeContent=new u.EventEmitter,this.isEmptyText=!0,this.TypeQuill=c.a,this.userPremiumService.load()}return n.prototype.replay=function(n,e,t){this.quillService.setNewLine(),this.quillService.setLinkWithText(n,e),this.quillService.insertText(t),this.focusToEditor(!0)},n.prototype.quote=function(n){this.quillService.setBloquote(n)},n.prototype.clickOutside=function(){this.quillService.clearSelection(),this.toggleSmiles=!1,this.cd.detectChanges()},n.prototype.toggleSmilesFunc=function(){this.toggleSmiles=!this.toggleSmiles,this.cd.detectChanges()},n.prototype.ngOnChanges=function(){this.setHTML(this.value)},n.prototype.focusToEditor=function(n,e){var t=this;void 0===n&&(n=!1),e&&!e.target.classList.contains("simplebar-content")||this.zone.runOutsideAngular(function(){return t.quillService.focus(n)})},n.prototype.getContent=function(){var n=this,e=this.quillService.rootElem.querySelector(".ql-editor").cloneNode(!0);e.querySelectorAll("table.gg-spoiler").forEach(function(e){return n.replaceSpoilerToContent(e)}),e.querySelectorAll("gg-embed-video").forEach(function(e){return n.replaceClipToContent(e)}),e.querySelectorAll("a").forEach(function(e){return n.replaceLinkToContent(e)}),e.querySelectorAll("table.cquote").forEach(function(e){return n.replaceCquoteToContent(e)});for(var t=e.querySelectorAll("p"),l=0;l<t.length;++l)"<p><br></p>"===t[l].outerHTML&&t[l].remove();return e.innerHTML},n.prototype.getText=function(){return this.quillService.getText()},n.prototype.spoiler=function(){var n=this.quillService._quill.getSelection(!0);this.quillService.appendSpoiler(n)},n.prototype.img=function(){return l.e(this,void 0,void 0,function(){var n,e,t;return l.h(this,function(l){switch(l.label){case 0:return n=this.quillService._quill.getSelection(!0),e=this.quillService._quill.scrollingContainer.scrollTop,[4,this.modalService.open(o.a).result];case 1:return t=l.sent(),this.quillService.appendImg(t,n),this.quillService._quill.scrollingContainer.scrollTop=e,[2]}})})},n.prototype.replaceSpoilerToContent=function(n){var e=document.createElement(""+i.a);e.setAttribute("title",n.querySelector(".spoiler-head").innerText),n.querySelector(".spoiler-content")&&(e.innerHTML=n.querySelector(".spoiler-content").innerHTML,n.replaceWith(e))},n.prototype.replaceCquoteToContent=function(n){var e=document.createElement("div");e.classList.add("cquote"),e.innerHTML=n.innerHTML,n.replaceWith(e)},n.prototype.replaceLinkToContent=function(n){var e=document.createElement("a");e.setAttribute("href",n.getAttribute("href").trim()),e.setAttribute("target","_blank"),e.innerHTML=n.innerHTML,n.replaceWith(e)},n.prototype.replaceClipToContent=function(n){var e=document.createElement("gg-embed-video");e.setAttribute("info",n.getAttribute("info")),e.setAttribute("id",n.getAttribute("id")),e.setAttribute("type",n.getAttribute("type")),n.replaceWith(e)},n.prototype.ngOnInit=function(){var n=this;this.changeContent.subscribe(function(){n.isEmptyText=n.isEmpty(),n.cd.detectChanges()}),this.pasteToInput.onPaste.subscribe(function(e){if(e.type==r.a.SMILE){var t=e.data;n.quillService.appendSmile("smile "+t,e.animated),n.toggleSmiles=!1,n.cd.detectChanges()}})},n.prototype.isEmpty=function(n){return!((n=n||this.quillService.getHtml()).indexOf("img")>-1)&&(!(n.indexOf("div")>-1)&&!this.getText().trim())},n.prototype.ngAfterViewInit=function(){var n=this;this.zone.runOutsideAngular(function(){n.quillService.init(n.type,n.elRef.nativeElement),n.quillService._quill.on("text-change",function(){return n.changeContent.emit()}),n.setHTML(n.value)})},n.prototype.setHTML=function(n){if(n||""===n){var e=new RegExp(""+i.a,"g");n=n.replace(e,"gg-spoiler-editor","g");var t=this.quillService.convertHTML(n);t&&this.quillService.setContent(t)}},n.prototype.replace=function(){var n=this;this.quillService.rootElem.querySelector(".ql-editor").cloneNode(!0).querySelectorAll("table.gg-spoiler").forEach(function(e){return n.replaceSpoilerToContent(e)})},n.prototype.ngOnDestroy=function(){this.quillService.destroy()},n.prototype.pasteSmile=function(n){this.pasteToInput.paste(r.a.SMILE,n.name),this.plus&&this.toggleSmilesFunc()},n}())},KjJC:function(n,e,t){"use strict";var l=t("CcnG"),u=t("mN3k"),o=t("AAay"),i=t("m3D3"),r=t("maVL"),c=t("uej8"),a=t("ofbX"),s=t("K2B/"),d=t("ZYjt"),p=t("l1nV"),f=t("bDe0"),m=t("WIzN"),b=t("Ip0R"),v=t("MIx6"),g=t("TiK0"),h=t("FTOZ"),y=t("/JgG"),O=t("9jgm"),j=t("9Za/"),C=(t("awt7"),t("QYmF"),t("Z3YM")),w=t("k1e/"),P=(t("FYqj"),t("fJtk")),S=function(){function n(n,e,t,u){this.userService=n,this.commentsService=e,this.store=t,this.modalService=u,this.reply=new l.EventEmitter,this.quote=new l.EventEmitter,this.edit=new l.EventEmitter,this.isOpenComplaint=!1,this.isOpenBan=!1}return n.prototype.ngOnInit=function(){},n.prototype.deleteComment=function(){var n={username:this.userService.user.username,user_id:this.userService.user.id},e={id:this.comment.id,deletedBy:n,objData:this.objData};this.store.dispatch(new w.c(e))},n.prototype.editComment=function(){this.comment.edit=!0,this.edit.emit(!0)},Object.defineProperty(n.prototype,"objData",{get:function(){return{objId:this.objId,objType:this.objType}},enumerable:!0,configurable:!0}),n.prototype.openWindow=function(){this.objData;console.log(this.comment),this.modalService.open(P.a,{objId:this.comment.id,objType:6})},n}(),I=t("yGQT"),T=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function M(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"a",[],null,[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.reply.emit()&&l);return l},null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"span",[["class","icon icon-reply-comment"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"span",[["class","tip"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c"]))],null,null)}function E(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"a",[],null,[[null,"mousedown"]],function(n,e,t){var l=!0,u=n.component;"mousedown"===e&&(l=!1!==u.quote.emit()&&l);return l},null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"span",[["class","icon icon-quote-comment"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"span",[["class","tip"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u0426\u0438\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"]))],null,null)}function k(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"a",[],null,[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.editComment()&&l);return l},null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"span",[["class","icon icon-edit-comment"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"span",[["class","tip"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"]))],null,null)}function x(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"a",[],null,[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.deleteComment()&&l);return l},null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"span",[["class","icon icon-delete-comment"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"span",[["class","tip"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u0423\u0434\u0430\u043b\u0438\u0442\u044c"]))],null,null)}function _(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"a",[],null,[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!=(u.isOpenComplaint=!0)&&l);return l},null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"span",[["class","icon icon-report-comment"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"span",[["class","tip"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f"]))],null,null)}function R(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"a",[],null,[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.openWindow()&&l);return l},null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"span",[["class","icon icon-ban-comment"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"span",[["class","tip"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u0417\u0430\u0431\u0430\u043d\u0438\u0442\u044c"]))],null,null)}function A(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"span",[["class","icon icon-howvote-comment"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"span",[["class","tip"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u041a\u0442\u043e \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043b?"]))],null,function(n,e){var t=e.component;n(e,0,0,l["\u0275inlineInterpolate"](1,"/moderation/other/ratings/?type=6&id=",t.comment.id,""))})}function D(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,16,"div",[["class","control-panel"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,M)),l["\u0275did"](2,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,E)),l["\u0275did"](4,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,k)),l["\u0275did"](6,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,x)),l["\u0275did"](8,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](9,0,null,null,2,"div",[["class","popup-block-parent"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,_)),l["\u0275did"](11,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](12,0,null,null,2,"div",[["class","popup-block-parent"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,R)),l["\u0275did"](14,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,A)),l["\u0275did"](16,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,2,0,!t.editStatus),n(e,4,0,!t.editStatus),n(e,6,0,(t.isAdmin||t.isCreator)&&!t.editStatus),n(e,8,0,t.isAdmin||t.isOwner||t.isCreator),n(e,11,0,!t.isCreator),n(e,14,0,t.isAdmin),n(e,16,0,t.isAdmin)},null)}function q(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"gg-complaint",[],null,[[null,"ggClickOutside"],[null,"close"],["document","mousedown"]],function(n,e,t){var u=!0,o=n.component;"document:mousedown"===e&&(u=!1!==l["\u0275nov"](n,1).clickHandler(t,t.target)&&u);"ggClickOutside"===e&&(u=!1!=(o.isOpenComplaint=!1)&&u);"close"===e&&(u=!1!=(o.isOpenComplaint=!1)&&u);return u},g.b,g.a)),l["\u0275did"](1,16384,null,0,h.a,[l.ElementRef],null,{event:"ggClickOutside"}),l["\u0275did"](2,114688,null,0,y.a,[O.a,j.a],{userId:[0,"userId"],objType:[1,"objType"],objId:[2,"objId"]},{close:"close"})],function(n,e){var t=e.component;n(e,2,0,null==t.userService.user?null:t.userService.user.id,6,t.comment.id)},null)}function L(n){return l["\u0275vid"](0,[(n()(),l["\u0275and"](16777216,null,null,1,null,D)),l["\u0275did"](1,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,q)),l["\u0275did"](3,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,1,0,!t.comment.edit&&!t.comment.deleted),n(e,3,0,t.isOpenComplaint)},null)}l["\u0275ccf"]("gg-comment-control-panel",S,function(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"gg-comment-control-panel",[],null,null,null,L,T)),l["\u0275did"](1,114688,null,0,S,[j.a,C.a,I.n,p.a],null,null)],function(n,e){n(e,1,0)},null)},{comment:"comment",isAdmin:"isAdmin",isCreator:"isCreator",isOwner:"isOwner",editStatus:"editStatus",objId:"objId",objType:"objType"},{reply:"reply",quote:"quote",edit:"edit"},[]);var N=t("rvf7"),V=t("Ma12"),$=t("26J2"),U=t("3jvX"),G=t("OZGF"),F=t("/TZZ"),H=t("V6cc"),B=t("YbgN"),Y=(t("mSP8"),t("DUJp")),z=function(){function n(n,e,t,u,o,i){this.userService=n,this.commentService=e,this.utils=t,this.modalService=u,this.store=o,this.commentEditorService=i,this.hide=!1,this.replay=new l.EventEmitter,this.quote=new l.EventEmitter,this.update=new l.EventEmitter,this.edit=new l.EventEmitter,this.height=null,this.deletedRandiomQuote=""}return n.prototype.ngOnInit=function(){this.deletedRandiomQuote=this.utils.randomDelete()},n.prototype.ngOnChanges=function(n){n.hide&&n.hide.currentValue&&this.setHeight(),console.log("comment on changes...")},n.prototype.openPhoto=function(n){this.modalService.open(B.a,{src:n})},n.prototype.setHeight=function(){this.height=this.wrapper.nativeElement.offsetHeight||this.height},n.prototype.replayComment=function(n){n.preventDefault(),this.replay.emit()},n.prototype.postComment=function(n){var e=this.editor.getContent();n.text=e,n.edit=!n.edit,this.update.emit(e)},n.prototype.cancelComment=function(n){this.commentEditorService.editor=null,this.edit.emit(!1)},n.prototype.editComment=function(n){var e=this;setTimeout(function(){return e.commentEditorService.editor=e.editor}),this.edit.emit(n)},n.prototype.unDelComment=function(){this.store.dispatch(new w.r({objData:this.objData,id:this.comment.id}))},n.prototype.getPath=function(){return window.location.pathname},Object.defineProperty(n.prototype,"objData",{get:function(){return{objId:this.objId,objType:this.objType}},enumerable:!0,configurable:!0}),n.prototype.ngAfterContentChecked=function(){this.comment.text&&this.comment.text!==this.replacedText&&(this.comment.text=this.utils.replaceSpoilers(this.comment.text),this.comment.text=this.utils.replaceClips(this.comment.text),this.replacedText=this.comment.text)},n}(),K=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Z(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"img",[["ggNoPreview","/files/avatars/avatar.png"]],null,[[null,"error"]],function(n,e,t){var u=!0;"error"===e&&(u=!1!==l["\u0275nov"](n,1).onError(t)&&u);return u},null,null)),l["\u0275did"](1,540672,null,0,u.a,[l.ElementRef],{src:[0,"src"],srcImage:[1,"srcImage"]},null)],function(n,e){var t=e.component;n(e,1,0,"/files/avatars/avatar.png",null==t.comment?null:null==t.comment.author?null:t.comment.author.avatar)},null)}function J(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"img",[["alt",""],["height","52"],["width","52"]],[[8,"src",4]],null,null,null,null))],null,function(n,e){var t=e.component;n(e,0,0,"/images/room-levels/"+(null==t.comment?null:null==t.comment.author?null:null==t.comment.author.room?null:t.comment.author.room.level)+".png")})}function W(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,11,null,null,null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,10,"div",[["class","edit-block"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,4,"gg-editor",[],null,null,null,o.b,o.a)),l["\u0275prd"](512,null,i.a,i.a,[]),l["\u0275prd"](512,null,r.a,r.a,[c.a,i.a]),l["\u0275prd"](512,null,a.b,a.b,[]),l["\u0275did"](6,4964352,[[1,4]],0,s.a,[r.a,d.c,a.b,p.a,l.ChangeDetectorRef,l.ElementRef,f.a,l.NgZone,m.a],{value:[0,"value"]},null),(n()(),l["\u0275eld"](7,0,null,null,4,"div",[["class","btn-block"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,1,"a",[["class","btn btn-blue"]],null,[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.postComment(u.comment)&&l);return l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"])),(n()(),l["\u0275eld"](10,0,null,null,1,"a",[["class","btn btn-red"]],null,[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.cancelComment(u.comment)&&l);return l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"]))],function(n,e){n(e,6,0,e.component.comment.text)},null)}function Q(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"div",[["class","text-block typography-block"]],[[8,"hidden",0],[8,"innerHTML",1]],null,null,null,null)),l["\u0275ppd"](2,2),(n()(),l["\u0275and"](16777216,null,null,1,null,W)),l["\u0275did"](4,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](0,null,null,0))],function(n,e){n(e,4,0,e.component.comment.edit)},function(n,e){var t=e.component,u=t.comment.edit,o=l["\u0275unv"](e,1,1,n(e,2,0,l["\u0275nov"](e.parent.parent,1),t.comment.text,"html"));n(e,1,0,u,o)})}function X(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,6,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,3,"div",[["class","text-block"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,2,"gg-custom-spoiler",[],[[8,"title",0]],null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,1,"span",[],[[8,"innerHTML",1]],null,null,null,null)),l["\u0275ppd"](4,2),(n()(),l["\u0275eld"](5,0,null,null,1,"div",[["class","btn btn-transparent two"]],null,[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.unDelComment()&&l);return l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435"]))],null,function(n,e){var t=e.component;n(e,2,0,((null==t.comment.deleted_by?null:t.comment.deleted_by.username)||"")+" \u0443\u0434\u0430\u043b\u0438\u043b \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439");var u=l["\u0275unv"](e,3,0,n(e,4,0,l["\u0275nov"](e.parent.parent,1),t.comment.text,"html"));n(e,3,0,u)})}function nn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,30,null,null,null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,7,"a",[["class","user-avatar"]],[[8,"href",4],[2,"online",null]],null,null,null,null)),l["\u0275did"](2,737280,null,0,v.a,[l.ElementRef,"UserOnlineService"],{user:[0,"user"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Z)),l["\u0275did"](4,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](5,0,null,null,3,"div",[["class","custom-block"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,2,"div",[["class","hexagon"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,J)),l["\u0275did"](8,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](9,0,null,null,21,"div",[["class","content-part"]],null,null,null,null,null)),(n()(),l["\u0275eld"](10,0,null,null,14,"div",[["class","content-part-wrapper"]],null,null,null,null,null)),(n()(),l["\u0275eld"](11,0,null,null,10,"div",[["class","comment-head"]],null,null,null,null,null)),(n()(),l["\u0275eld"](12,0,null,null,7,"div",[["class","comment-info"]],null,null,null,null,null)),(n()(),l["\u0275eld"](13,0,null,null,1,"a",[["class","element comment-number"],["no-anchor",""]],[[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.replayComment(t)&&l);return l},null,null)),(n()(),l["\u0275ted"](14,null,["#",""])),(n()(),l["\u0275eld"](15,0,null,null,1,"a",[["class","element user"]],[[8,"href",4]],null,null,null,null)),(n()(),l["\u0275ted"](16,null,["",""])),(n()(),l["\u0275eld"](17,0,null,null,2,"span",[["class","date"]],null,null,null,null,null)),(n()(),l["\u0275ted"](18,null,["",""])),l["\u0275ppd"](19,1),(n()(),l["\u0275eld"](20,0,null,null,1,"gg-comment-control-panel",[],null,[[null,"reply"],[null,"quote"],[null,"edit"]],function(n,e,t){var l=!0,u=n.component;"reply"===e&&(l=!1!==u.replay.emit()&&l);"quote"===e&&(l=!1!==u.quote.emit()&&l);"edit"===e&&(l=!1!==u.editComment(t)&&l);return l},L,T)),l["\u0275did"](21,114688,null,0,S,[j.a,C.a,I.n,p.a],{comment:[0,"comment"],isAdmin:[1,"isAdmin"],isCreator:[2,"isCreator"],isOwner:[3,"isOwner"],editStatus:[4,"editStatus"],objId:[5,"objId"],objType:[6,"objType"]},{reply:"reply",quote:"quote",edit:"edit"}),(n()(),l["\u0275eld"](22,0,null,null,2,"div",[["class","rate-block"]],null,null,null,null,null)),(n()(),l["\u0275eld"](23,0,null,null,1,"gg-rating",[],null,null,null,N.c,N.b)),l["\u0275did"](24,114688,null,0,V.a,[$.a,l.ElementRef,j.a],{up:[0,"up"],down:[1,"down"],rated:[2,"rated"],canrate:[3,"canrate"],id:[4,"id"],type:[5,"type"]},null),(n()(),l["\u0275eld"](25,0,null,null,5,"div",[["class","comment-body big-smiles"]],[[2,"deleted",null]],[[null,"ggImageClick"],[null,"mouseup"]],function(n,e,t){var u=!0,o=n.component;"mouseup"===e&&(u=!1!==l["\u0275nov"](n,26).clickHandler(t,t.target)&&u);"ggImageClick"===e&&(u=!1!==o.openPhoto(t)&&u);return u},null,null)),l["\u0275did"](26,16384,null,0,U.a,[],null,{event:"ggImageClick"}),(n()(),l["\u0275and"](16777216,null,null,1,null,Q)),l["\u0275did"](28,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,X)),l["\u0275did"](30,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,2,0,null==t.comment?null:t.comment.author),n(e,4,0,null==t.comment?null:null==t.comment.author?null:t.comment.author.avatar),n(e,8,0,null==t.comment?null:null==t.comment.author?null:null==t.comment.author.room?null:t.comment.author.room.level),n(e,21,0,t.comment,t.isAdmin,(null==t.userService.user?null:t.userService.user.id)==(null==t.comment.author?null:t.comment.author.id),t.isOwner,t.editStatus,t.objId,t.objType);n(e,24,0,null==t.comment.rating?null:t.comment.rating.up,null==t.comment.rating?null:t.comment.rating.down,null==t.comment.rating?null:t.comment.rating.voted,(null==t.userService.user?null:t.userService.user.id)&&(null==t.comment.author?null:t.comment.author.id)!=(null==t.userService.user?null:t.userService.user.id),t.comment.id,6),n(e,28,0,!t.comment.deleted),n(e,30,0,t.comment.deleted)},function(n,e){var t=e.component;n(e,1,0,l["\u0275inlineInterpolate"](1,"/user/",null==t.comment?null:null==t.comment.author?null:t.comment.author.id,""),null==t.comment?null:null==t.comment.author?null:t.comment.author.online),n(e,13,0,l["\u0275inlineInterpolate"](1,"",t.getPath()+"#comment"+(null==t.comment?null:t.comment.i),"")),n(e,14,0,null==t.comment?null:t.comment.i),n(e,15,0,l["\u0275inlineInterpolate"](1,"/user/",null==t.comment?null:null==t.comment.author?null:t.comment.author.id,"/")),n(e,16,0,null==t.comment?null:null==t.comment.author?null:t.comment.author.nickname);var u=l["\u0275unv"](e,18,0,n(e,19,0,l["\u0275nov"](e.parent,0),null==t.comment?null:t.comment.date));n(e,18,0,u),n(e,25,0,t.comment.deleted)})}function en(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,8,"div",[["class","delete-wrap"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"div",[["class","number"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\xa0"])),(n()(),l["\u0275eld"](3,0,null,null,5,"div",[["class","comment"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,1,"a",[["class","deletedlink"]],[[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.replayComment(t)&&l);return l},null,null)),(n()(),l["\u0275ted"](5,null,["#",""])),(n()(),l["\u0275ted"](-1,null,["\xa0 "])),(n()(),l["\u0275eld"](7,0,null,null,1,"span",[["class","commenttextdeleted"]],[[8,"innerHTML",1]],null,null,null,null)),l["\u0275ppd"](8,2)],null,function(n,e){var t=e.component;n(e,4,0,l["\u0275inlineInterpolate"](1,"",t.getPath()+"#comment"+(null==t.comment?null:t.comment.i),"")),n(e,5,0,null==t.comment?null:t.comment.i);var u=l["\u0275unv"](e,7,0,n(e,8,0,l["\u0275nov"](e.parent,1),t.deletedRandiomQuote,"html"));n(e,7,0,u)})}function tn(n){return l["\u0275vid"](0,[l["\u0275pid"](0,G.a,[]),l["\u0275pid"](0,F.a,[d.c]),l["\u0275qud"](671088640,1,{editor:0}),l["\u0275qud"](402653184,2,{wrapper:0}),(n()(),l["\u0275eld"](4,0,null,null,12,"div",[],null,null,null,null,null)),l["\u0275did"](5,278528,null,0,b.r,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](6,{height:0}),(n()(),l["\u0275eld"](7,0,[[2,0],["wrapper",1]],null,9,"div",[["class","inner-wrap"]],[[2,"dummy",null],[2,"downvote",null]],null,null,null,null)),l["\u0275did"](8,278528,null,0,b.r,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](9,{display:0}),(n()(),l["\u0275eld"](10,0,null,null,1,"a",[["class","anchor-link"]],null,null,null,null,null)),l["\u0275did"](11,540672,null,0,H.a,[l.ElementRef],{value:[0,"value"]},null),(n()(),l["\u0275eld"](12,0,null,null,1,"a",[["class","anchor-link"]],null,null,null,null,null)),l["\u0275did"](13,540672,null,0,H.a,[l.ElementRef],{value:[0,"value"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,nn)),l["\u0275did"](15,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),l["\u0275and"](0,[["block1",2]],null,0,null,en))],function(n,e){var t=e.component,u=n(e,6,0,t.hide?t.height+"px":"auto");n(e,5,0,u);var o=n(e,9,0,t.hide?"none":"");n(e,8,0,o),n(e,11,0,l["\u0275inlineInterpolate"](1,"c",t.comment.id,"")),n(e,13,0,l["\u0275inlineInterpolate"](1,"comment",t.comment.i,"")),n(e,15,0,!t.comment.deleted||t.isAdmin||t.userService.user&&(null==t.comment.deleted_by?null:t.comment.deleted_by.user_id)==t.userService.user.id,l["\u0275nov"](e,16))},function(n,e){var t=e.component;n(e,7,0,-1===(null==t.comment?null:t.comment.id),(null==t.comment.rating?null:t.comment.rating.value)<=-15)})}l["\u0275ccf"]("gg-comment",z,function(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"gg-comment",[],null,null,null,tn,K)),l["\u0275did"](1,2736128,null,0,z,[j.a,C.a,f.a,p.a,I.n,Y.a],null,null)],function(n,e){n(e,1,0)},null)},{objType:"objType",objId:"objId",comment:"comment",isAdmin:"isAdmin",isOwner:"isOwner",editStatus:"editStatus",hide:"hide"},{replay:"replay",quote:"quote",update:"update",edit:"edit"},[]);var ln=t("97z0"),un=t("9EIw"),on=t("G/VZ"),rn=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function cn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"img",[["alt",""],["height","52"],["width","52"]],[[8,"src",4]],null,null,null,null))],null,function(n,e){var t=e.component;n(e,0,0,"/images/room-levels/"+(null==t.user?null:null==t.user.room?null:t.user.room.level)+".png")})}function an(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,26,"div",[["class","dashboard-block comments-block comments-block__mobile"]],[[2,"loading",null],[2,"short",null],[2,"semi-short",null]],[[null,"ggClickOutside"],[null,"click"],["document","mousedown"]],function(n,e,t){var u=!0,o=n.component;"document:mousedown"===e&&(u=!1!==l["\u0275nov"](n,1).clickHandler(t,t.target)&&u);"ggClickOutside"===e&&(u=!1!==o.clickOutside()&&u);"click"===e&&(u=!1!==o.setActive(t,n.context.ngIf)&&u);return u},null,null)),l["\u0275did"](1,16384,null,0,h.a,[l.ElementRef],{ignoreElements:[0,"ignoreElements"]},{event:"ggClickOutside"}),l["\u0275pad"](2,3),l["\u0275pid"](131072,b.b,[l.ChangeDetectorRef]),(n()(),l["\u0275eld"](4,0,null,null,22,"div",[["class","comment-block write"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,21,"div",[["class","inner-wrap"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,6,"div",[["class","user-avatar user-avatar__mobile"]],null,null,null,null,null)),(n()(),l["\u0275eld"](7,0,null,null,1,"img",[["alt",""],["ggNoPreview","/files/avatars/avatar.png"]],null,[[null,"error"]],function(n,e,t){var u=!0;"error"===e&&(u=!1!==l["\u0275nov"](n,8).onError(t)&&u);return u},null,null)),l["\u0275did"](8,540672,null,0,u.a,[l.ElementRef],{src:[0,"src"],srcImage:[1,"srcImage"]},null),(n()(),l["\u0275eld"](9,0,null,null,3,"div",[["class","custom-block"]],null,null,null,null,null)),(n()(),l["\u0275eld"](10,0,null,null,2,"div",[["class","hexagon"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,cn)),l["\u0275did"](12,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](13,0,null,null,13,"div",[["class","content-part"]],null,null,null,null,null)),(n()(),l["\u0275eld"](14,0,null,null,5,"div",[["class","comment-body comment-body__mobile"]],null,null,null,null,null)),(n()(),l["\u0275eld"](15,0,null,null,4,"gg-editor",[],null,null,null,o.b,o.a)),l["\u0275prd"](512,null,i.a,i.a,[]),l["\u0275prd"](512,null,r.a,r.a,[c.a,i.a]),l["\u0275prd"](512,null,a.b,a.b,[]),l["\u0275did"](19,4964352,[[1,4]],0,s.a,[r.a,d.c,a.b,p.a,l.ChangeDetectorRef,l.ElementRef,f.a,l.NgZone,m.a],{value:[0,"value"],type:[1,"type"]},null),(n()(),l["\u0275eld"](20,0,null,null,6,"div",[["class","comment-footer"]],null,null,null,null,null)),(n()(),l["\u0275eld"](21,0,null,null,0,"div",[["class","control-panel"]],null,null,null,null,null)),(n()(),l["\u0275eld"](22,0,null,null,4,"div",[["class","btn-block"]],null,null,null,null,null)),(n()(),l["\u0275eld"](23,0,null,null,1,"button",[["class","btn btn-blue"]],[[2,"show",null]],[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.clickSend()&&l);return l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"])),(n()(),l["\u0275eld"](25,0,null,null,1,"button",[["class","btn btn-gray"]],[[2,"show",null]],[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.clickOutside()&&l);return l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c"]))],function(n,e){var t=e.component,l=n(e,2,0,".upload-block-wrap",".popup-block","a");n(e,1,0,l);n(e,8,0,"/files/avatars/avatar.png",null==t.user?null:t.user.avatar),n(e,12,0,null==t.user?null:null==t.user.room?null:t.user.room.level),n(e,19,0,t.value,t.type)},function(n,e){var t=e.component;n(e,0,0,l["\u0275unv"](e,0,0,l["\u0275nov"](e,3).transform(t.loading$)),e.context.ngIf===t.ActiveSendComment.SHORT,e.context.ngIf===t.ActiveSendComment.SEMI_SHORT),n(e,23,0,e.context.ngIf!==t.ActiveSendComment.SHORT),n(e,25,0,e.context.ngIf!==t.ActiveSendComment.SHORT)})}function sn(n){return l["\u0275vid"](0,[l["\u0275qud"](671088640,1,{editor:0}),(n()(),l["\u0275and"](16777216,null,null,2,null,an)),l["\u0275did"](2,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,b.b,[l.ChangeDetectorRef])],function(n,e){var t=e.component;n(e,2,0,l["\u0275unv"](e,2,0,l["\u0275nov"](e,3).transform(t.active$)))},null)}l["\u0275ccf"]("send-comment",on.a,function(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"send-comment",[],null,null,null,sn,rn)),l["\u0275did"](1,4308992,null,0,on.a,[r.a,I.n,l.ElementRef,j.a],null,null)],function(n,e){n(e,1,0)},null)},{user:"user",objType:"objType",objId:"objId"},{onSendMessage:"onSendMessage"},[]);var dn=t("iLUY"),pn=t("ZYCi"),fn=t("Xf2Q"),mn=t("Qw4k"),bn=t("f1Oy"),vn=t("QlWe");t.d(e,"b",function(){return gn}),t.d(e,"c",function(){return Rn}),t.d(e,"a",function(){return An});var gn=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function hn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,"div",[["class","comment-block"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,3,"gg-comment",[],null,[[null,"replay"],[null,"quote"],[null,"edit"],[null,"update"]],function(n,e,t){var l=!0,u=n.component;"replay"===e&&(l=!1!==u.replay(n.context.$implicit)&&l);"quote"===e&&(l=!1!==u.quote(n.context.$implicit)&&l);"edit"===e&&(l=!1!==u.updateEditComment(n.context.$implicit,t)&&l);"update"===e&&(l=!1!==u.sendComment(t,n.parent.parent.parent.context.ngIf,n.context.$implicit.id)&&l);return l},tn,K)),l["\u0275did"](2,2736128,null,0,z,[j.a,C.a,f.a,p.a,I.n,Y.a],{comment:[0,"comment"],isAdmin:[1,"isAdmin"],isOwner:[2,"isOwner"],editStatus:[3,"editStatus"]},{replay:"replay",quote:"quote",update:"update",edit:"edit"}),l["\u0275pid"](131072,b.b,[l.ChangeDetectorRef]),l["\u0275pid"](131072,b.b,[l.ChangeDetectorRef])],function(n,e){var t=e.component;n(e,2,0,e.context.$implicit,l["\u0275unv"](e,2,1,l["\u0275nov"](e,3).transform(t.user$)).admin,l["\u0275unv"](e,2,2,l["\u0275nov"](e,4).transform(t.user$)).owner,t.sendingClosed)},null)}function yn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,6,"div",[["class","dashboard-block comments-block top"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"div",[["class","title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u041b\u0443\u0447\u0448\u0438\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"])),(n()(),l["\u0275eld"](3,0,null,null,3,"div",[["class","dashboard-inner"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,2,null,hn)),l["\u0275did"](5,278528,null,0,b.n,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),l["\u0275pid"](131072,b.b,[l.ChangeDetectorRef])],function(n,e){var t=e.component;n(e,5,0,l["\u0275unv"](e,5,0,l["\u0275nov"](e,6).transform(t.commentsTop$)))},null)}function On(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"a",[],null,[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.loadSinglePage(n.parent.context.$implicit)&&l);return l},null,null)),(n()(),l["\u0275ted"](1,null,["",""]))],null,function(n,e){n(e,1,0,e.parent.context.$implicit)})}function jn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u2026"]))],null,null)}function Cn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,"span",[["class","page"]],[[2,"active",null]],null,null,null,null)),l["\u0275pid"](131072,b.b,[l.ChangeDetectorRef]),(n()(),l["\u0275and"](16777216,null,null,1,null,On)),l["\u0275did"](3,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,jn)),l["\u0275did"](5,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){n(e,3,0,e.context.$implicit),n(e,5,0,!e.context.$implicit)},function(n,e){var t=e.component;n(e,0,0,e.context.$implicit==l["\u0275unv"](e,0,0,l["\u0275nov"](e,1).transform(t.activePage$)))})}function wn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"div",[["id","lastComment"]],null,null,null,null,null))],null,null)}function Pn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,7,"div",[["class","comment-block"]],[[2,"new",null]],null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,wn)),l["\u0275did"](2,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](3,0,null,null,4,"gg-comment",[],null,[[null,"replay"],[null,"edit"],[null,"quote"],[null,"update"]],function(n,e,t){var l=!0,u=n.component;"replay"===e&&(l=!1!==u.replay(n.context.$implicit)&&l);"edit"===e&&(l=!1!==u.updateEditComment(n.context.$implicit,t)&&l);"quote"===e&&(l=!1!==u.quote(n.context.$implicit)&&l);"update"===e&&(l=!1!==u.sendComment(t,n.parent.parent.parent.parent.parent.parent.context.ngIf,n.context.$implicit.id)&&l);return l},tn,K)),l["\u0275did"](4,2736128,null,0,z,[j.a,C.a,f.a,p.a,I.n,Y.a],{objType:[0,"objType"],objId:[1,"objId"],comment:[2,"comment"],isAdmin:[3,"isAdmin"],isOwner:[4,"isOwner"],editStatus:[5,"editStatus"],hide:[6,"hide"]},{replay:"replay",quote:"quote",update:"update",edit:"edit"}),l["\u0275pid"](131072,b.b,[l.ChangeDetectorRef]),l["\u0275pid"](131072,b.b,[l.ChangeDetectorRef]),l["\u0275pid"](131072,b.b,[l.ChangeDetectorRef])],function(n,e){var t=e.component;n(e,2,0,e.context.last),n(e,4,0,t.objType,t.objId,e.context.$implicit,l["\u0275unv"](e,4,3,l["\u0275nov"](e,5).transform(t.user$)).admin,l["\u0275unv"](e,4,4,l["\u0275nov"](e,6).transform(t.user$)).owner,t.sendingClosed,t.hideComment(e.parent.parent.context.ngIf,l["\u0275unv"](e,4,6,l["\u0275nov"](e,7).transform(t.activePage$))-0,e.parent.context.$implicit-0))},function(n,e){n(e,0,0,e.context.$implicit.id&&e.context.$implicit.id==e.parent.parent.parent.parent.context.ngIf.comment)})}function Sn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","comments-page"],["ggScrollHook",""]],null,[[null,"atTop"],[null,"atBottom"]],function(n,e,t){var l=!0,u=n.component;"atTop"===e&&(l=!1!==u.setPageNumber(n.context.$implicit-0,t)&&l);"atBottom"===e&&(l=!1!==u.loadNextPage(n.parent.context.ngIf,n.context.$implicit-0,t)&&l);return l},null,null)),l["\u0275did"](1,147456,null,0,ln.a,[l.ElementRef,un.a],{offset:[0,"offset"]},{atTop:"atTop",atBottom:"atBottom"}),(n()(),l["\u0275and"](16777216,null,null,1,null,Pn)),l["\u0275did"](3,278528,null,0,b.n,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(n,e){var t=e.component;n(e,1,0,800),n(e,3,0,e.parent.context.ngIf[e.context.$implicit],t.trackByIndex)},null)}function In(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","dashboard-inner comments-inner"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,2,null,Sn)),l["\u0275did"](2,278528,null,0,b.n,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),l["\u0275ppd"](3,1)],function(n,e){var t=l["\u0275unv"](e,2,0,n(e,3,0,l["\u0275nov"](e.parent.parent.parent.parent.parent,0),e.context.ngIf));n(e,2,0,t)},null)}function Tn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,10,"div",[["class","dashboard-block comments-block comments-list sticky"]],[[2,"dummy",null]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,3,"div",[["class","title abs"],["id","toComments"]],null,null,null,null,null)),(n()(),l["\u0275ted"](2,null,["",""])),l["\u0275pad"](3,3),l["\u0275ppd"](4,2),(n()(),l["\u0275eld"](5,0,null,null,2,"div",[["class","pagination-block"]],[[2,"hidden",null]],null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Cn)),l["\u0275did"](7,278528,null,0,b.n,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275and"](16777216,null,null,2,null,In)),l["\u0275did"](9,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,b.b,[l.ChangeDetectorRef])],function(n,e){var t=e.component;n(e,7,0,e.parent.parent.parent.context.ngIf),n(e,9,0,l["\u0275unv"](e,9,0,l["\u0275nov"](e,10).transform(t.comments$)))},function(n,e){var t=e.component;n(e,0,0,-1==e.parent.context.ngIf.cqty);var u=l["\u0275unv"](e,2,0,n(e,4,0,l["\u0275nov"](e.parent.parent.parent.parent,1),e.parent.context.ngIf.cqty,n(e,3,0,"\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439","\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f","\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432")));n(e,2,0,u),n(e,5,0,!e.parent.parent.parent.context.ngIf.length||t.editComment.edit)})}function Mn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,"div",[["class","dashboard-block comments-block ng-scope"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"div",[["class","title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"])),(n()(),l["\u0275eld"](3,0,null,null,2,"div",[["class","comment-block write"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,1,"div",[["class","ng-scope"],["ng-if","vm.closed"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u0422\u0435\u043c\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0430 \u0434\u043b\u044f \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"]))],null,null)}function En(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,9,"div",[["class","comments-component"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Tn)),l["\u0275did"](2,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](3,0,null,null,4,"send-comment",[],null,[[null,"onSendMessage"]],function(n,e,t){var l=!0,u=n.component;"onSendMessage"===e&&(l=!1!==u.sendComment(t,n.parent.parent.context.ngIf,0,n.context.ngIf)&&l);return l},sn,rn)),l["\u0275did"](4,278528,null,0,b.r,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](5,{display:0}),l["\u0275did"](6,4308992,[[1,4]],0,on.a,[r.a,I.n,l.ElementRef,j.a],{user:[0,"user"],objType:[1,"objType"],objId:[2,"objId"]},{onSendMessage:"onSendMessage"}),l["\u0275pid"](131072,b.b,[l.ChangeDetectorRef]),(n()(),l["\u0275and"](16777216,null,null,1,null,Mn)),l["\u0275did"](9,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,2,0,e.context.ngIf.qty||-1===e.context.ngIf.cqty);var u=n(e,5,0,t.sendingClosed||t.editComment.edit?"none":"");n(e,4,0,u),n(e,6,0,l["\u0275unv"](e,6,0,l["\u0275nov"](e,7).transform(t.user$)),t.objType,t.objId),n(e,9,0,t.sendingClosed)},null)}function kn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,2,null,yn)),l["\u0275did"](2,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,b.b,[l.ChangeDetectorRef]),(n()(),l["\u0275and"](16777216,null,null,2,null,En)),l["\u0275did"](5,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,b.b,[l.ChangeDetectorRef]),(n()(),l["\u0275and"](0,null,null,0))],function(n,e){var t=e.component;n(e,2,0,l["\u0275unv"](e,2,0,l["\u0275nov"](e,3).transform(t.commentsTop$)).length),n(e,5,0,l["\u0275unv"](e,5,0,l["\u0275nov"](e,6).transform(t.info$)))},null)}function xn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"div",[["class","dashboard-block comments-block loading"]],null,null,null,null,null))],null,null)}function _n(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,7,"div",[["class","animated-smiles"],["ggScrollHook",""]],null,[[null,"atBottom"],[null,"ggCommentAnchor"],[null,"mouseup"]],function(n,e,t){var u=!0,o=n.component;"mouseup"===e&&(u=!1!==l["\u0275nov"](n,2).clickHandler(t,t.target)&&u);"atBottom"===e&&(u=!1!==o.load()&&u);"ggCommentAnchor"===e&&(u=!1!==o.scrollToComment(t)&&u);return u},null,null)),l["\u0275did"](1,147456,null,0,ln.a,[l.ElementRef,un.a],null,{atBottom:"atBottom"}),l["\u0275did"](2,81920,[[2,4]],0,dn.a,[pn.o,un.a],null,{scroll:"ggCommentAnchor"}),(n()(),l["\u0275and"](16777216,null,null,3,null,kn)),l["\u0275did"](4,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),l["\u0275pid"](131072,b.b,[l.ChangeDetectorRef]),l["\u0275ppd"](6,1),(n()(),l["\u0275and"](0,[["block1",2]],null,0,null,xn))],function(n,e){var t=e.component;n(e,2,0);var u=l["\u0275unv"](e,4,0,n(e,6,0,l["\u0275nov"](e.parent,0),l["\u0275unv"](e,4,0,l["\u0275nov"](e,5).transform(t.comments$)))).length;n(e,4,0,u,l["\u0275nov"](e,7))},null)}function Rn(n){return l["\u0275vid"](0,[l["\u0275pid"](0,fn.a,[]),l["\u0275pid"](0,mn.a,[]),l["\u0275qud"](671088640,1,{send:0}),l["\u0275qud"](671088640,2,{anchor:0}),(n()(),l["\u0275and"](16777216,null,null,2,null,_n)),l["\u0275did"](5,16384,null,0,b.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,b.b,[l.ChangeDetectorRef])],function(n,e){var t=e.component;n(e,5,0,l["\u0275unv"](e,5,0,l["\u0275nov"](e,6).transform(t.pagesNumbers$)))},null)}var An=l["\u0275ccf"]("gg-comments",bn.a,function(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"gg-comments",[],null,null,null,Rn,gn)),l["\u0275did"](1,770048,null,0,bn.a,[vn.a,un.a,l.ChangeDetectorRef,I.n,Y.a],null,null)],function(n,e){n(e,1,0)},null)},{objType:"objType",objId:"objId",objKey:"objKey",sendingClosed:"sendingClosed",autoload:"autoload"},{},[])},Ma12:function(n,e,t){"use strict";t("26J2"),t("QYmF");var l=t("26FU"),u=t("G5J1"),o=t("gI3B"),i=t("F/XL"),r=t("dC0D"),c=t("mrSG"),a=t("MGBS"),s=t("zotm");var d=function(){function n(n){this.durationSelector=n}return n.prototype.call=function(n,e){return e.subscribe(new p(n,this.durationSelector))},n}(),p=function(n){function e(e,t){var l=n.call(this,e)||this;return l.durationSelector=t,l.hasValue=!1,l.durationSubscription=null,l}return c.g(e,n),e.prototype._next=function(n){try{var e=this.durationSelector.call(this,n);e&&this._tryNext(n,e)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(n,e){var t=this.durationSubscription;this.value=n,this.hasValue=!0,t&&(t.unsubscribe(),this.remove(t)),(t=Object(s.a)(this,e))&&!t.closed&&this.add(this.durationSubscription=t)},e.prototype.notifyNext=function(n,e,t,l,u){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,t=this.durationSubscription;t&&(this.durationSubscription=null,t.unsubscribe(),this.remove(t)),this.value=null,this.hasValue=!1,n.prototype._next.call(this,e)}},e}(a.a),f=t("67Y/"),m=t("15JJ");t.d(e,"a",function(){return b});var b=function(){function n(n,e,t){this.ratingService=n,this.elemRef=e,this.userService=t,this.showVotedList$=new l.a(null)}return n.prototype.ngOnInit=function(){var n,e=this;this.newUp=this.up,this.newDown=this.down,this.votedList$=this.showVotedList$.pipe(Object(r.a)(function(n,e){return{prev:n.curr,curr:e}},{curr:null,vote:null}),(n=function(n){return n.curr&&n.prev?u.a:Object(o.a)(500)},function(e){return e.lift(new d(n))}),Object(f.a)(function(n){return n.curr}),Object(m.a)(function(n){return n?e.ratingService.whoVoted({objType:e.type,objId:e.id}).$observable.pipe(Object(f.a)(function(e){return e.filter(function(e){return+e.vote.vote===n})})):Object(i.a)(null)}))},n.prototype.rateUp=function(){this.canrate&&0==this.rated&&this.userService.user&&this.userService.user.id&&(this.rated=1,this.postVote(),this.up=+this.up+1)},n.prototype.rateDown=function(){this.canrate&&0==this.rated&&this.userService.user&&this.userService.user.id&&(this.rated=-1,this.postVote(),this.down=+this.down+1)},n.prototype.postVote=function(){var n=this;this.ratingService.vote({objType:this.type,objId:this.id,vote:this.rated}).$observable.subscribe(function(e){n.newUp=parseInt(e.up)||0,n.newDown=parseInt(e.down)||0,n.rated=parseInt(e.vote)||0,n.animateRating()})},n.prototype.animateRating=function(){this.newUp!=this.up&&(this.up=this.newUp),this.newDown!=this.down&&(this.down=this.newDown)},n.prototype.showWhosVoted=function(n){if(this.userService.ggPlusTier()<5)return!1;this.showVotedList$.next(n)},n.prototype.hideWhosVoted=function(){this.showVotedList$.next(null)},n}()},OeSv:function(n,e,t){"use strict";t.d(e,"a",function(){return i});var l=t("YANC"),u=t("hzBs"),o=t("irPS"),i=function(){return function(n){Object(o.a)(u.a,l.a,n)}}()},QZHT:function(n,e,t){"use strict";t.d(e,"a",function(){return m});var l=t("mrSG"),u=t("jYNz"),o=(t("Z3YM"),t("k1e/")),i=t("67Y/"),r=t("15JJ"),c=t("Phjn"),a=t("psW0"),s=t("9Z1F"),d=t("CnH3"),p=t("F/XL"),f=t("FYqj"),m=function(){function n(n,e){var t=this;this.actions$=n,this.commentsService=e,this.loadPageComments$=this.actions$.pipe(Object(u.d)(o.b.REQUEST_FOR_COMMENTS),Object(i.a)(function(n){return n.payload}),Object(r.a)(function(n){var e={objId:n.objData.objId,objType:n.objData.objType};return t.commentsService.getComments(l.a({},e,{page:n.page+1})).$observable.pipe(Object(i.a)(function(n){return new o.o({objData:e,commentsPage:n})}))})),this.loadSinglePageComments$=this.actions$.pipe(Object(u.d)(o.b.LOAD_SINGLE_PAGE),Object(i.a)(function(n){return n.payload}),Object(r.a)(function(n){var e={objId:n.objData.objId,objType:n.objData.objType};return t.commentsService.getComments(l.a({},e,{page:n.page})).$observable.pipe(Object(c.a)(function(n){return Object(p.a)(new o.i({objData:e,single:!0,commentsPage:n})).pipe(Object(i.a)(function(e){return{load:e,commentsPage:n}}))}),Object(a.a)(function(n){var t=n.load,l=n.commentsPage;return l?[t,new o.g({objData:e,page:l.info.page+1})]:[]}))})),this.loadPageInCache$=this.actions$.pipe(Object(u.d)(o.b.LOAD_PAGE_IN_CACHE),Object(i.a)(function(n){return n.payload}),Object(r.a)(function(n){var e={objId:n.objData.objId,objType:n.objData.objType};return t.commentsService.getComments(l.a({},e,{page:n.page})).$observable.pipe(Object(i.a)(function(t){return new o.o({objData:e,commentsPage:t,single:n.single,setInActive:n.setInActive})}))})),this.getPageComments$=this.actions$.pipe(Object(u.d)(o.b.GET_COMMENT_PAGE),Object(i.a)(function(n){return n.payload}),Object(r.a)(function(n){var e={objId:n.objData.objId,objType:n.objData.objType},u={type:n.type,id:n.id};return t.commentsService.getPageComment(l.a({},e,u)).$observable.pipe(Object(c.a)(function(n){return Object(p.a)(new o.i({objData:e,single:!0,commentsPage:n})).pipe(Object(i.a)(function(e){return{load:e,commentsPage:n}}))}),Object(a.a)(function(n){var t=n.load,l=n.commentsPage;return[t,new o.g({objData:e,page:l.info.page+1})]}),Object(a.a)(function(n){return[n,new o.k(u)]}))})),this.sendComment$=this.actions$.pipe(Object(u.d)(o.b.SEND_COMMENT),Object(i.a)(function(n){return n.payload}),Object(r.a)(function(n){var e={objId:n.objData.objId,objType:n.objData.objType},u=l.a({},e,{comment:n.comment,id:n.id,currentPage:n.currentPage}),r=t.commentsService.sendComment(u).$observable.pipe(Object(i.a)(function(n){return new o.i({objData:e,commentsPage:n,single:!0})}));return u.id||(r=r.pipe(Object(a.a)(function(n){return[n,new o.k({type:d.b.BOTTOM})]}),Object(a.a)(function(n){return[n,new o.m({objData:e,value:f.a.SHORT})]}))),r})),this.deleteComment$=this.actions$.pipe(Object(u.d)(o.b.DELETE_COMMENT),Object(i.a)(function(n){return n.payload}),Object(r.a)(function(n){return t.commentsService.deleteComment({id:n.id}).$observable.pipe(Object(i.a)(function(e){return new o.p(n)}),Object(s.a)(function(){return Object(p.a)(new o.d(n))}))})),this.undeleteComment$=this.actions$.pipe(Object(u.d)(o.b.UNDELETE_COMMENT),Object(i.a)(function(n){return n.payload}),Object(r.a)(function(n){return t.commentsService.undeleteComment({id:n.id}).$observable.pipe(Object(i.a)(function(e){return new o.q(n)}),Object(s.a)(function(){return Object(p.a)(new o.e(n))}))}))}return l.f([Object(u.b)(),l.j("design:type",Object)],n.prototype,"loadPageComments$",void 0),l.f([Object(u.b)(),l.j("design:type",Object)],n.prototype,"loadSinglePageComments$",void 0),l.f([Object(u.b)(),l.j("design:type",Object)],n.prototype,"loadPageInCache$",void 0),l.f([Object(u.b)(),l.j("design:type",Object)],n.prototype,"getPageComments$",void 0),l.f([Object(u.b)(),l.j("design:type",Object)],n.prototype,"sendComment$",void 0),l.f([Object(u.b)(),l.j("design:type",Object)],n.prototype,"deleteComment$",void 0),l.f([Object(u.b)(),l.j("design:type",Object)],n.prototype,"undeleteComment$",void 0),n}()},QlWe:function(n,e,t){"use strict";t.d(e,"a",function(){return l});t("uzXs");var l=function(){function n(n){this.objectUpdaterService=n}return n.prototype.subscribeNewComments=function(n,e){return this.unsubscribeComments(n),this.objectUpdaterService.subscribe(n),this.subscriptionEvent=this.objectUpdaterService.onUpdateObjectByObjKey(n).subscribe(function(n){return e(n)})},n.prototype.unsubscribeComments=function(n){this.subscriptionEvent&&this.subscriptionEvent.unsubscribe(),this.objectUpdaterService.unsubscribe(n)},n}()},TiK0:function(n,e,t){"use strict";t.d(e,"a",function(){return m}),t.d(e,"b",function(){return h});var l=t("CcnG"),u=t("5tJs"),o=t("rpZH"),i=t("gIcY"),r=t("2Hcd"),c=t("PwDV"),a=t("Ps8t"),s=t("Ip0R"),d=t("/JgG"),p=t("9jgm"),f=t("9Za/"),m=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function b(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,21,null,null,null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"gg-option",[],null,null,null,u.b,u.a)),l["\u0275did"](2,114688,[[1,4]],0,o.a,[l.ElementRef],{value:[0,"value"]},null),(n()(),l["\u0275ted"](-1,0,["\u041f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u044b\u0435 \u043e\u0441\u043a\u043e\u0440\u0431\u043b\u0435\u043d\u0438\u044f"])),(n()(),l["\u0275eld"](4,0,null,null,2,"gg-option",[],null,null,null,u.b,u.a)),l["\u0275did"](5,114688,[[1,4]],0,o.a,[l.ElementRef],{value:[0,"value"]},null),(n()(),l["\u0275ted"](-1,0,["\u041d\u0435\u0446\u0435\u043d\u0437\u0443\u0440\u043d\u0430\u044f \u043b\u0435\u043a\u0441\u0438\u043a\u0430"])),(n()(),l["\u0275eld"](7,0,null,null,2,"gg-option",[],null,null,null,u.b,u.a)),l["\u0275did"](8,114688,[[1,4]],0,o.a,[l.ElementRef],{value:[0,"value"]},null),(n()(),l["\u0275ted"](-1,0,["\u041a\u0443\u0440\u0435\u043d\u0438\u0435, \u0443\u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u0435 \u0430\u043b\u043a\u043e\u0433\u043e\u043b\u044f"])),(n()(),l["\u0275eld"](10,0,null,null,2,"gg-option",[],null,null,null,u.b,u.a)),l["\u0275did"](11,114688,[[1,4]],0,o.a,[l.ElementRef],{value:[0,"value"]},null),(n()(),l["\u0275ted"](-1,0,["\u042d\u0440\u043e\u0442\u0438\u043a\u0430 \u0438\u043b\u0438 \u043f\u043e\u0440\u043d\u043e\u0433\u0440\u0430\u0444\u0438\u044f"])),(n()(),l["\u0275eld"](13,0,null,null,2,"gg-option",[],null,null,null,u.b,u.a)),l["\u0275did"](14,114688,[[1,4]],0,o.a,[l.ElementRef],{value:[0,"value"]},null),(n()(),l["\u0275ted"](-1,0,["\u041d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u0432 \u0442\u0440\u0435\u0442\u044c\u0438\u0445 \u043b\u0438\u0446"])),(n()(),l["\u0275eld"](16,0,null,null,2,"gg-option",[],null,null,null,u.b,u.a)),l["\u0275did"](17,114688,[[1,4]],0,o.a,[l.ElementRef],{value:[0,"value"]},null),(n()(),l["\u0275ted"](-1,0,["\u041d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u043e\u043d\u043e\u0432 \u0420\u0424"])),(n()(),l["\u0275eld"](19,0,null,null,2,"gg-option",[],null,null,null,u.b,u.a)),l["\u0275did"](20,114688,[[1,4]],0,o.a,[l.ElementRef],{value:[0,"value"]},null),(n()(),l["\u0275ted"](-1,0,["\u0414\u0440\u0443\u0433\u043e\u0435"]))],function(n,e){n(e,2,0,1);n(e,5,0,2);n(e,8,0,3);n(e,11,0,4);n(e,14,0,5);n(e,17,0,6);n(e,20,0,7)},null)}function v(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,21,null,null,null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"gg-option",[],null,null,null,u.b,u.a)),l["\u0275did"](2,114688,[[1,4]],0,o.a,[l.ElementRef],{value:[0,"value"]},null),(n()(),l["\u0275ted"](-1,0,["\u0424\u043b\u0443\u0434, \u043e\u0444\u0444\u0442\u043e\u043f\u0438\u043a, \u0441\u043c\u0430\u0439\u043b\u043e\u0431\u0443\u0437"])),(n()(),l["\u0275eld"](4,0,null,null,2,"gg-option",[],null,null,null,u.b,u.a)),l["\u0275did"](5,114688,[[1,4]],0,o.a,[l.ElementRef],{value:[0,"value"]},null),(n()(),l["\u0275ted"](-1,0,["\u0421\u043f\u0430\u043c, \u043e\u0442\u043a\u0440\u043e\u0432\u0435\u043d\u043d\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430"])),(n()(),l["\u0275eld"](7,0,null,null,2,"gg-option",[],null,null,null,u.b,u.a)),l["\u0275did"](8,114688,[[1,4]],0,o.a,[l.ElementRef],{value:[0,"value"]},null),(n()(),l["\u0275ted"](-1,0,["\u041f\u0440\u043e\u0432\u043e\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"])),(n()(),l["\u0275eld"](10,0,null,null,2,"gg-option",[],null,null,null,u.b,u.a)),l["\u0275did"](11,114688,[[1,4]],0,o.a,[l.ElementRef],{value:[0,"value"]},null),(n()(),l["\u0275ted"](-1,0,["\u041d\u0435\u0446\u0435\u043d\u0437\u0443\u0440\u043d\u0430\u044f \u043b\u0435\u043a\u0441\u0438\u043a\u0430, \u043e\u0441\u043a\u043e\u0440\u0431\u043b\u0435\u043d\u0438\u044f"])),(n()(),l["\u0275eld"](13,0,null,null,2,"gg-option",[],null,null,null,u.b,u.a)),l["\u0275did"](14,114688,[[1,4]],0,o.a,[l.ElementRef],{value:[0,"value"]},null),(n()(),l["\u0275ted"](-1,0,["\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0430, \u0430\u0432\u0430\u0442\u0430\u0440\u0430"])),(n()(),l["\u0275eld"](16,0,null,null,2,"gg-option",[],null,null,null,u.b,u.a)),l["\u0275did"](17,114688,[[1,4]],0,o.a,[l.ElementRef],{value:[0,"value"]},null),(n()(),l["\u0275ted"](-1,0,["\u041f\u0440\u043e\u043f\u0430\u0433\u0430\u043d\u0434\u0430 \u043a\u0443\u0440\u0435\u043d\u0438\u044f, \u0443\u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u044f \u0430\u043b\u043a\u043e\u0433\u043e\u043b\u044f"])),(n()(),l["\u0275eld"](19,0,null,null,2,"gg-option",[],null,null,null,u.b,u.a)),l["\u0275did"](20,114688,[[1,4]],0,o.a,[l.ElementRef],{value:[0,"value"]},null),(n()(),l["\u0275ted"](-1,0,["\u0414\u0440\u0443\u0433\u043e\u0435"]))],function(n,e){n(e,2,0,1);n(e,5,0,2);n(e,8,0,3);n(e,11,0,4);n(e,14,0,5);n(e,17,0,6);n(e,20,0,7)},null)}function g(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,5,"textarea",[["name","other"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var u=!0,o=n.component;"input"===e&&(u=!1!==l["\u0275nov"](n,2)._handleInput(t.target.value)&&u);"blur"===e&&(u=!1!==l["\u0275nov"](n,2).onTouched()&&u);"compositionstart"===e&&(u=!1!==l["\u0275nov"](n,2)._compositionStart()&&u);"compositionend"===e&&(u=!1!==l["\u0275nov"](n,2)._compositionEnd(t.target.value)&&u);"ngModelChange"===e&&(u=!1!==(o.textComplaint=t)&&u);return u},null,null)),l["\u0275did"](2,16384,null,0,i.d,[l.Renderer2,l.ElementRef,[2,i.a]],null,null),l["\u0275prd"](1024,null,i.q,function(n){return[n]},[i.d]),l["\u0275did"](4,671744,null,0,i.v,[[8,null],[8,null],[8,null],[6,i.q]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,i.r,null,[i.v]),l["\u0275did"](6,16384,null,0,i.s,[[4,i.r]],null,null)],function(n,e){n(e,4,0,"other",e.component.textComplaint)},function(n,e){n(e,1,0,l["\u0275nov"](e,6).ngClassUntouched,l["\u0275nov"](e,6).ngClassTouched,l["\u0275nov"](e,6).ngClassPristine,l["\u0275nov"](e,6).ngClassDirty,l["\u0275nov"](e,6).ngClassValid,l["\u0275nov"](e,6).ngClassInvalid,l["\u0275nov"](e,6).ngClassPending)})}function h(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,24,"div",[["class","popup-block report-popup"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,23,"div",[["class","content"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"div",[["class","title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u0416\u0430\u043b\u043e\u0431\u0430"])),(n()(),l["\u0275eld"](4,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u041f\u0440\u0438\u0447\u0438\u043d\u0430"])),(n()(),l["\u0275eld"](7,0,null,null,10,"gg-dropdown",[],[[2,"disabled",null],[2,"dropdown",null],[2,"dark",null],[2,"blue",null],[2,"transparent",null],[2,"open",null]],[[null,"valueChange"],[null,"click"],[null,"ggClickOutside"]],function(n,e,t){var u=!0,o=n.component;"click"===e&&(u=!1!==l["\u0275nov"](n,9).toggle()&&u);"ggClickOutside"===e&&(u=!1!==l["\u0275nov"](n,9).onOutsideClick()&&u);"valueChange"===e&&(u=!1!==o.changeComplain(t)&&u);return u},r.b,r.a)),l["\u0275prd"](5120,null,i.q,function(n){return[n]},[c.a]),l["\u0275did"](9,1753088,null,1,c.a,[l.ChangeDetectorRef,a.a],{color:[0,"color"],value:[1,"value"]},{valueChange:"valueChange"}),l["\u0275qud"](603979776,1,{options:1}),(n()(),l["\u0275eld"](11,0,null,null,2,"gg-option",[],null,null,null,u.b,u.a)),l["\u0275did"](12,114688,[[1,4]],0,o.a,[l.ElementRef],{value:[0,"value"]},null),(n()(),l["\u0275ted"](-1,0,["\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u0438\u0447\u0438\u043d\u0443"])),(n()(),l["\u0275and"](16777216,null,null,1,null,b)),l["\u0275did"](15,16384,null,0,s.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,v)),l["\u0275did"](17,16384,null,0,s.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,g)),l["\u0275did"](19,16384,null,0,s.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](20,0,null,null,4,"div",[["class","form-group btn-block"]],null,null,null,null,null)),(n()(),l["\u0275eld"](21,0,null,null,1,"a",[["class","btn btn-blue"]],[[2,"disabled",null]],[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.sendComplaint()&&l);return l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"])),(n()(),l["\u0275eld"](23,0,null,null,1,"a",[["class","btn btn-gray cancel"]],null,[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.close.emit(!1)&&l);return l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u041e\u0442\u043c\u0435\u043d\u0430"]))],function(n,e){var t=e.component;n(e,9,0,t.color,t.causeComplaint);n(e,12,0,0),n(e,15,0,t.type!==t.ObjType.TOPIC),n(e,17,0,t.type===t.ObjType.TOPIC),n(e,19,0,7==t.causeComplaint)},function(n,e){var t=e.component;n(e,7,0,l["\u0275nov"](e,9).disabledValue,!0,"dark"===l["\u0275nov"](e,9).color,"blue"===l["\u0275nov"](e,9).color,"transparent"===l["\u0275nov"](e,9).color,l["\u0275nov"](e,9).isOpened),n(e,21,0,0==t.causeComplaint)})}l["\u0275ccf"]("gg-complaint",d.a,function(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"gg-complaint",[],null,null,null,h,m)),l["\u0275did"](1,114688,null,0,d.a,[p.a,f.a],null,null)],function(n,e){n(e,1,0)},null)},{userId:"userId",objType:"objType",objId:"objId",color:"color",type:"type"},{close:"close"},[])},UyQ7:function(n,e,t){"use strict";t.d(e,"a",function(){return u}),t.d(e,"b",function(){return l});var l=t("f1Oy").a,u=function(){return function(){}}()},XHvd:function(n,e,t){"use strict";var l;t.d(e,"a",function(){return l}),l||(l={}),l.USER=9,l.ALBUM=15,l.PHOTO=16,l.MATERIALS=1,l.TOPIC=11,l.COMMENT=6,l.Stream_Channel=7,l.CUP=26,l.JOB=32,l.PLUS=24},XX9I:function(n,e,t){"use strict";t.d(e,"a",function(){return D}),t.d(e,"b",function(){return cn}),t.d(e,"c",function(){return sn}),t.d(e,"d",function(){return K}),t.d(e,"e",function(){return G}),t.d(e,"f",function(){return dn}),t.d(e,"g",function(){return Y});var l=t("mrSG"),u=t("CcnG"),o=function(){function n(){}return n.prototype.transform=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return Array.isArray(n)?e.reduce(function(n,e){return n.filter(function(n){return!~e.indexOf(n)})},n):n},n=Object(l.f)([Object(u.Pipe)({name:"diff"})],n)}(),i=function(){function n(){}return n.prototype.transform=function(n,e){return void 0===e&&(e=0),Array.isArray(n)?n.slice(0,n.length-e):n},n=Object(l.f)([Object(u.Pipe)({name:"initial"})],n)}(),r=function(){function n(){}return n.prototype.transform=function(n,e){return void 0===e&&(e=!1),Array.isArray(n)?e?[].concat.apply([],n):this.flatten(n):n},n.prototype.flatten=function(n){var e=this;return n.reduce(function(n,t){return Array.isArray(t)?n.concat(e.flatten(t)):n.concat(t)},[])},n=Object(l.f)([Object(u.Pipe)({name:"flatten"})],n)}(),c=function(){function n(){}return n.prototype.transform=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return Array.isArray(n)?e.reduce(function(n,e){return n.filter(function(n){return!!~e.indexOf(n)})},n):n},n=Object(l.f)([Object(u.Pipe)({name:"intersection"})],n)}();function a(n){return void 0===n}function s(n){return"function"==typeof n}function d(n){return"number"==typeof n}function p(n){return"string"==typeof n}function f(n){return null!==n&&"object"==typeof n}function m(n){return d(n)&&isFinite(n)}function b(n){return-1!==["a","e","i","o","u"].indexOf(n)}function v(n){var e=Object(l.l)(n.split(/\s/g)),t=e[0],u=e.slice(1),o=t.toLowerCase().split(/(?=['|-])/g).map(function(n){return n.indexOf("-")+n.indexOf("'")>-2?n.slice(0,2).toUpperCase()+n.slice(2):n.slice(0,1).toUpperCase()+n.slice(1)}).join("");return Object(l.m)([o],u).join(" ")}function g(n,e){if(e<=0)return Math.round(n);var t=Math.pow(10,e);return Math.round(n*t)/t}function h(n,e){var t=e.split("."),l=t.shift();return t.reduce(function(n,e){return a(n)||a(n[e])?void 0:n[e]},n[l||""])}function y(n,e){return Object(l.m)(Object.keys(n),Object.keys(e)).filter(function(n,e,t){return t.indexOf(n)===e})}var O=function(){function n(){}return n.prototype.transform=function(n){return p(n)?n.split("").reverse().join(""):Array.isArray(n)?n.slice().reverse():n},n=Object(l.f)([Object(u.Pipe)({name:"reverse"})],n)}(),j=function(){function n(){}return n.prototype.transform=function(n,e){return void 0===e&&(e=0),Array.isArray(n)?n.slice(e):n},n=Object(l.f)([Object(u.Pipe)({name:"tail"})],n)}(),C=function(){function n(){}return n.prototype.transform=function(n){return Array.isArray(n)?n.filter(function(n){return!!n}):n},n=Object(l.f)([Object(u.Pipe)({name:"truthify"})],n)}(),w=function(){function n(){}return n.prototype.transform=function(n,e){return void 0===e&&(e=[]),Array.isArray(n)&&Array.isArray(e)?e.reduce(function(n,e){return n.concat(e.reduce(function(e,t){return~e.indexOf(t)||~n.indexOf(t)?e:e.concat([t])},[]))},n):n},n=Object(l.f)([Object(u.Pipe)({name:"union"})],n)}(),P=function(){function n(){}return n.prototype.transform=function(n,e){var t=[];return Array.isArray(n)?a(e)?n.filter(function(e,t){return n.indexOf(e)===t}):n.filter(function(n,l){var u=h(n,e);return!a(u=f(u)?JSON.stringify(u):u)&&!t[u]&&(t[u]=!0,!0)}):n},n=Object(l.f)([Object(u.Pipe)({name:"unique"})],n)}(),S=function(){function n(){}return n.prototype.transform=function(n,e){return void 0===e&&(e=[]),Array.isArray(n)?n.filter(function(n){return!~e.indexOf(n)}):n},n=Object(l.f)([Object(u.Pipe)({name:"without"})],n)}(),I=function(){function n(){}return n.prototype.transform=function(n,e){return Array.isArray(n)?n.map(function(n){return h(n,e)}):f(n)?h(n,e):n},n=Object(l.f)([Object(u.Pipe)({name:"pluck",pure:!1})],n)}(),T=function(){function n(){}return n.prototype.transform=function(n){var e;if(!Array.isArray(n))return n;for(var t=Object(l.m)(n),u=n.length-1,o=0;o<u;++o){var i=Math.floor(Math.random()*(u-o+1))+o;e=Object(l.l)([t[i],t[o]],2),t[o]=e[0],t[i]=e[1]}return t},n=Object(l.f)([Object(u.Pipe)({name:"shuffle"})],n)}(),M=function(){function n(){}return n.prototype.transform=function(n,e){return!!Array.isArray(n)&&n.every(e)},n=Object(l.f)([Object(u.Pipe)({name:"every"})],n)}(),E=function(){function n(){}return n.prototype.transform=function(n,e){return Array.isArray(n)?n.some(e):n},n=Object(l.f)([Object(u.Pipe)({name:"some"})],n)}(),k=function(){function n(){}return n.prototype.transform=function(n,e){if(void 0===e&&(e=1),!Array.isArray(n))return n;for(var t=[],u=Object(l.m)(n),o=e<u.length?e:u.length,i=0;i<o;++i)t=t.concat(u.splice(Math.floor(Math.random()*u.length),1));return t},n=Object(l.f)([Object(u.Pipe)({name:"sample"})],n)}(),x=function(){function n(){}return n.prototype.transform=function(n,e,t){return void 0===e&&(e=[]),void 0===t&&(t="|"),Array.isArray(n)?this.groupBy(n,e,t):n},n.prototype.groupBy=function(n,e,t){var l=this;return n.reduce(function(n,u){var o=l.extractKeyByDiscriminator(e,u,t);return n[o]=Array.isArray(n[o])?n[o].concat([u]):[u],n},{})},n.prototype.extractKeyByDiscriminator=function(n,e,t){return s(n)?n(e):Array.isArray(n)?n.map(function(n){return h(e,n)}).join(t):h(e,n)},n=Object(l.f)([Object(u.Pipe)({name:"groupBy"})],n)}(),_=function(){function n(){}return n.prototype.transform=function(n,e,t,l){if(void 0===t&&(t=""),void 0===l&&(l=!1),!Array.isArray(n)||!Array.isArray(t)&&!p(t)&&!m(t)&&"boolean"!=typeof t)return n;var u=String(t).toLowerCase().split(",");return n.filter(function(n){return e.some(function(e){return u.some(function(t){var u=h(n,e),o=function(n,e){var t=e.split("."),l=t.pop();return{props:h(n,t.join(".")),tail:l}}(n,e),i=o.props,r=o.tail;if(a(u)&&!a(i)&&Array.isArray(i))return i.some(function(n){var e=String(n[r]).toLowerCase();return l?e===t:!!~e.indexOf(t)});if(a(u))return!1;var c=String(u).toLowerCase();return l?t===c:!!~c.indexOf(t)})})})},n=Object(l.f)([Object(u.Pipe)({name:"filterBy"})],n)}(),R=function(){function n(){}var e;return e=n,n.prototype.transform=function(n,t){if(!Array.isArray(n))return n;var u=Object(l.m)(n);if(Array.isArray(t))return u.sort(function(n,u){for(var o=t.length,i=0;i<o;++i){var r=Object(l.l)(e.extractFromConfig(t[i]),2),c=r[0],a=r[1],s=e.orderCompare(c,a,n,u);if(0!==s)return s}return 0});if(p(t)){var o=Object(l.l)(e.extractFromConfig(t),3),i=o[0],r=o[1],c=o[2];if(1===t.length)switch(c){case"+":return u.sort(e.simpleSort.bind(this));case"-":return u.sort(e.simpleSort.bind(this)).reverse()}return u.sort(e.orderCompare.bind(this,i,r))}return u.sort(e.simpleSort.bind(this))},n.simpleSort=function(n,e){return p(n)&&p(e)?n.toLowerCase().localeCompare(e.toLowerCase()):n-e},n.orderCompare=function(n,e,t,l){var u=h(t,n),o=h(l,n);if(u===o)return 0;if(a(u)||""===u)return 1;if(a(o)||""===o)return-1;if(p(u)&&p(o)){var i=u.toLowerCase().localeCompare(o.toLowerCase());return e?i:-i}return e?u-o:o-u},n.extractFromConfig=function(n){var e=n.substr(0,1);return[n.replace(/^[-+]/,""),"-"!==e,e]},n=e=Object(l.f)([Object(u.Pipe)({name:"orderBy"})],n)}(),A=[o,r,i,c,O,j,C,w,P,S,I,T,M,E,k,x,function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Object(l.g)(e,n),e=Object(l.f)([Object(u.Pipe)({name:"groupByImpure",pure:!1})],e)}(x),_,function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Object(l.g)(e,n),e=Object(l.f)([Object(u.Pipe)({name:"filterByImpure",pure:!1})],e)}(_),R,function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Object(l.g)(e,n),e=Object(l.f)([Object(u.Pipe)({name:"orderByImpure",pure:!1})],e)}(R),function(){function n(){}return n.prototype.transform=function(n,e,t){return void 0===n&&(n=1),void 0===e&&(e=0),void 0===t&&(t=1),Array(e).fill("").map(function(e,l){return t*l+n})},n=Object(l.f)([Object(u.Pipe)({name:"range"})],n)}(),function(){function n(){}return n.prototype.transform=function(n,e){return void 0===e&&(e=1),p(n)?this.chunk(n.split(""),e):Array.isArray(n)?this.chunk(n,e):n},n.prototype.chunk=function(n,e){return Array(Math.ceil(n.length/e)).fill([]).map(function(n,t){return t*e}).map(function(t){return n.slice(t,t+e)})},n=Object(l.f)([Object(u.Pipe)({name:"chunk"})],n)}(),function(){function n(){}return n.prototype.transform=function(n){return Array.isArray(n)?n.reduce(function(n,e){if(!Array.isArray(e))return n;var t=Object(l.l)(e,2),u=t[0],o=t[1];return n[u]=o,n},{}):n},n=Object(l.f)([Object(u.Pipe)({name:"fromPairs"})],n)}()],D=function(){function n(){}return n=Object(l.f)([Object(u.NgModule)({declarations:A,imports:[],exports:A})],n)}(),q=function(){function n(){}return n.prototype.transform=function(n){return Array.isArray(n)||!f(n)?n:Object.keys(n)},n=Object(l.f)([Object(u.Pipe)({name:"keys"})],n)}(),L=function(){function n(){}return n.prototype.transform=function(n){return Array.isArray(n)||!f(n)?n:Object.keys(n).map(function(e){return n[e]})},n=Object(l.f)([Object(u.Pipe)({name:"values"})],n)}(),N=function(){function n(){}return n.prototype.transform=function(n){return Array.isArray(n)||!f(n)?n:Object.entries(n)},n=Object(l.f)([Object(u.Pipe)({name:"pairs"})],n)}(),V=function(){function n(){}return n.prototype.transform=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return Array.isArray(n)||!f(n)?n:e.reduce(function(e,t){var l;return Object.assign(e,((l={})[t]=n[t],l))},{})},n=Object(l.f)([Object(u.Pipe)({name:"pick"})],n)}(),$=function(){function n(){}return n.prototype.transform=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return Array.isArray(n)||!f(n)?n:Object.keys(n).filter(function(n){return!~e.indexOf(n)}).reduce(function(e,t){var l;return Object.assign(e,((l={})[t]=n[t],l))},{})},n=Object(l.f)([Object(u.Pipe)({name:"omit"})],n)}(),U=[q,L,N,V,function(){function n(){}return n.prototype.transform=function(n){return Array.isArray(n)||!f(n)?n:Object.keys(n).reduce(function(e,t){var l;return Object.assign(e,((l={})[n[t]]=t,l))},{})},n=Object(l.f)([Object(u.Pipe)({name:"invert"})],n)}(),function(){function n(){}return n.prototype.transform=function(n,e){return Array.isArray(n)||!f(n)?n:Object.keys(n).reduce(function(t,l){var u,o=e?e(n[l]):n[l];return Array.isArray(t[o])?(t[o].push(l),t):Object.assign(t,((u={})[o]=[l],u))},{})},n=Object(l.f)([Object(u.Pipe)({name:"invertBy"})],n)}(),$,function(){function n(){}return n.prototype.transform=function(n,e){return void 0===e&&(e={}),Array.isArray(n)||Array.isArray(e)||!f(n)||!f(e)?{}:y(n,e).reduce(function(t,l){return function n(e,t){return f(e)&&f(t)?y(e,t).every(function(l){return f(e[l])||f(t[l])?!(!f(e[l])||!f(t[l]))&&n(e[l],t[l]):e[l]===t[l]}):e===t}(e[l],n[l])||(t[l]=n[l]),t},{})},n=Object(l.f)([Object(u.Pipe)({name:"diffObj"})],n)}()],G=function(){function n(){}return n=Object(l.f)([Object(u.NgModule)({declarations:U,imports:[],exports:U})],n)}(),F=function(){function n(){this.irregularMap={herb:"an",honor:"an",honorable:"an",hour:"an",mba:"an",msc:"an","m.sc.":"an",unicorn:"a"}}return n.prototype.transform=function(n){if(n&&""!==n){var e=n.trim().split(" ")[0];return this.irregularMap[e.toLocaleLowerCase()]?this.irregularMap[e.toLocaleLowerCase()]+" "+n:b(n[0])?"an "+n:"a "+n}return""},n=Object(l.f)([Object(u.Pipe)({name:"aOrAn"})],n)}(),H=function(){function n(){}return n.prototype.transform=function(n){return p(n)?n.split(" ").map(function(n){return v(n)}).join(" "):n},n=Object(l.f)([Object(u.Pipe)({name:"ucwords"})],n)}(),B=[F,function(){function n(){}return n.prototype.transform=function(n,e){return void 0===e&&(e="\\s"),p(n)?n.replace(new RegExp("^["+e+"]+"),""):n},n=Object(l.f)([Object(u.Pipe)({name:"ltrim"})],n)}(),function(){function n(){}return n.prototype.transform=function(n,e,t){if(void 0===e&&(e=1),void 0===t&&(t=""),e<=0)throw new RangeError;return 1===e?n:this.repeat(n,e-1,t)},n.prototype.repeat=function(n,e,t){return p(n)?0===e?n:n+t+this.repeat(n,e-1,t):n},n=Object(l.f)([Object(u.Pipe)({name:"repeat"})],n)}(),function(){function n(){}return n.prototype.transform=function(n,e){return void 0===e&&(e="\\s"),p(n)?n.replace(new RegExp("["+e+"]+$"),""):n},n=Object(l.f)([Object(u.Pipe)({name:"rtrim"})],n)}(),function(){function n(){}return n.prototype.transform=function(n,e){return void 0===e&&(e=[]),p(n)?n.replace(/\{(\d+)}/g,function(n,t){return a(e[t])?n:e[t]}):n},n=Object(l.f)([Object(u.Pipe)({name:"scan"})],n)}(),function(){function n(){}return n.prototype.transform=function(n,e,t,l){if(void 0===e&&(e=0),void 0===t&&(t=""),void 0===l&&(l=!0),!p(n))return n;if(n.length>e){if(l)return n.slice(0,e)+t;if(~n.indexOf(" ",e))return n.slice(0,n.indexOf(" ",e))+t}return n},n=Object(l.f)([Object(u.Pipe)({name:"shorten"})],n)}(),function(){function n(){}return n.prototype.transform=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.length>0?n.replace(new RegExp("<(?!/?("+e.join("|")+")s*/?)[^>]+>","g"),""):n.replace(/<(?:.|\s)*?>/g,"")},n=Object(l.f)([Object(u.Pipe)({name:"stripTags"})],n)}(),function(){function n(){}return n.prototype.transform=function(n,e){return void 0===e&&(e="\\s"),p(n)?n.replace(new RegExp("^["+e+"]+|["+e+"]+$","g"),""):n},n=Object(l.f)([Object(u.Pipe)({name:"trim"})],n)}(),function(){function n(){}return n.prototype.transform=function(n){return p(n)?v(n):n},n=Object(l.f)([Object(u.Pipe)({name:"ucfirst"})],n)}(),H,function(){function n(){}return n.prototype.transform=function(n){return p(n)?n.toLowerCase().trim().replace(/[^\w\-]+/g," ").replace(/\s+/g,"-"):n},n=Object(l.f)([Object(u.Pipe)({name:"slugify"})],n)}(),function(){function n(){}return n.prototype.transform=function(n,e){return p(n)?n.toLowerCase().split(/[-_\s]/g).filter(function(n){return!!n}).map(function(n,e){return e?n.slice(0,1).toUpperCase()+n.slice(1):n}).join(""):n},n=Object(l.f)([Object(u.Pipe)({name:"camelize"})],n)}(),function(){function n(){this.latinMap={"\xc1":"A","\u0102":"A","\u1eae":"A","\u1eb6":"A","\u1eb0":"A","\u1eb2":"A","\u1eb4":"A","\u01cd":"A","\xc2":"A","\u1ea4":"A","\u1eac":"A","\u1ea6":"A","\u1ea8":"A","\u1eaa":"A","\xc4":"A","\u01de":"A","\u0226":"A","\u01e0":"A","\u1ea0":"A","\u0200":"A","\xc0":"A","\u1ea2":"A","\u0202":"A","\u0100":"A","\u0104":"A","\xc5":"A","\u01fa":"A","\u1e00":"A","\u023a":"A","\xc3":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u1e02":"B","\u1e04":"B","\u0181":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0106":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0108":"C","\u010a":"C","\u0187":"C","\u023b":"C","\u010e":"D","\u1e10":"D","\u1e12":"D","\u1e0a":"D","\u1e0c":"D","\u018a":"D","\u1e0e":"D","\u01f2":"D","\u01c5":"D","\u0110":"D","\u018b":"D","\u01f1":"DZ","\u01c4":"DZ","\xc9":"E","\u0114":"E","\u011a":"E","\u0228":"E","\u1e1c":"E","\xca":"E","\u1ebe":"E","\u1ec6":"E","\u1ec0":"E","\u1ec2":"E","\u1ec4":"E","\u1e18":"E","\xcb":"E","\u0116":"E","\u1eb8":"E","\u0204":"E","\xc8":"E","\u1eba":"E","\u0206":"E","\u0112":"E","\u1e16":"E","\u1e14":"E","\u0118":"E","\u0246":"E","\u1ebc":"E","\u1e1a":"E","\ua76a":"ET","\u1e1e":"F","\u0191":"F","\u01f4":"G","\u011e":"G","\u01e6":"G","\u0122":"G","\u011c":"G","\u0120":"G","\u0193":"G","\u1e20":"G","\u01e4":"G","\u1e2a":"H","\u021e":"H","\u1e28":"H","\u0124":"H","\u2c67":"H","\u1e26":"H","\u1e22":"H","\u1e24":"H","\u0126":"H","\xcd":"I","\u012c":"I","\u01cf":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u0130":"I","\u1eca":"I","\u0208":"I","\xcc":"I","\u1ec8":"I","\u020a":"I","\u012a":"I","\u012e":"I","\u0197":"I","\u0128":"I","\u1e2c":"I","\ua779":"D","\ua77b":"F","\ua77d":"G","\ua782":"R","\ua784":"S","\ua786":"T","\ua76c":"IS","\u0134":"J","\u0248":"J","\u1e30":"K","\u01e8":"K","\u0136":"K","\u2c69":"K","\ua742":"K","\u1e32":"K","\u0198":"K","\u1e34":"K","\ua740":"K","\ua744":"K","\u0139":"L","\u023d":"L","\u013d":"L","\u013b":"L","\u1e3c":"L","\u1e36":"L","\u1e38":"L","\u2c60":"L","\ua748":"L","\u1e3a":"L","\u013f":"L","\u2c62":"L","\u01c8":"L","\u0141":"L","\u01c7":"LJ","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u0143":"N","\u0147":"N","\u0145":"N","\u1e4a":"N","\u1e44":"N","\u1e46":"N","\u01f8":"N","\u019d":"N","\u1e48":"N","\u0220":"N","\u01cb":"N","\xd1":"N","\u01ca":"NJ","\xd3":"O","\u014e":"O","\u01d1":"O","\xd4":"O","\u1ed0":"O","\u1ed8":"O","\u1ed2":"O","\u1ed4":"O","\u1ed6":"O","\xd6":"O","\u022a":"O","\u022e":"O","\u0230":"O","\u1ecc":"O","\u0150":"O","\u020c":"O","\xd2":"O","\u1ece":"O","\u01a0":"O","\u1eda":"O","\u1ee2":"O","\u1edc":"O","\u1ede":"O","\u1ee0":"O","\u020e":"O","\ua74a":"O","\ua74c":"O","\u014c":"O","\u1e52":"O","\u1e50":"O","\u019f":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\xd5":"O","\u1e4c":"O","\u1e4e":"O","\u022c":"O","\u01a2":"OI","\ua74e":"OO","\u0190":"E","\u0186":"O","\u0222":"OU","\u1e54":"P","\u1e56":"P","\ua752":"P","\u01a4":"P","\ua754":"P","\u2c63":"P","\ua750":"P","\ua758":"Q","\ua756":"Q","\u0154":"R","\u0158":"R","\u0156":"R","\u1e58":"R","\u1e5a":"R","\u1e5c":"R","\u0210":"R","\u0212":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua73e":"C","\u018e":"E","\u015a":"S","\u1e64":"S","\u0160":"S","\u1e66":"S","\u015e":"S","\u015c":"S","\u0218":"S","\u1e60":"S","\u1e62":"S","\u1e68":"S","\u1e9e":"SS","\u0164":"T","\u0162":"T","\u1e70":"T","\u021a":"T","\u023e":"T","\u1e6a":"T","\u1e6c":"T","\u01ac":"T","\u1e6e":"T","\u01ae":"T","\u0166":"T","\u2c6f":"A","\ua780":"L","\u019c":"M","\u0245":"V","\ua728":"TZ","\xda":"U","\u016c":"U","\u01d3":"U","\xdb":"U","\u1e76":"U","\xdc":"U","\u01d7":"U","\u01d9":"U","\u01db":"U","\u01d5":"U","\u1e72":"U","\u1ee4":"U","\u0170":"U","\u0214":"U","\xd9":"U","\u1ee6":"U","\u01af":"U","\u1ee8":"U","\u1ef0":"U","\u1eea":"U","\u1eec":"U","\u1eee":"U","\u0216":"U","\u016a":"U","\u1e7a":"U","\u0172":"U","\u016e":"U","\u0168":"U","\u1e78":"U","\u1e74":"U","\ua75e":"V","\u1e7e":"V","\u01b2":"V","\u1e7c":"V","\ua760":"VY","\u1e82":"W","\u0174":"W","\u1e84":"W","\u1e86":"W","\u1e88":"W","\u1e80":"W","\u2c72":"W","\u1e8c":"X","\u1e8a":"X","\xdd":"Y","\u0176":"Y","\u0178":"Y","\u1e8e":"Y","\u1ef4":"Y","\u1ef2":"Y","\u01b3":"Y","\u1ef6":"Y","\u1efe":"Y","\u0232":"Y","\u024e":"Y","\u1ef8":"Y","\u0179":"Z","\u017d":"Z","\u1e90":"Z","\u2c6b":"Z","\u017b":"Z","\u1e92":"Z","\u0224":"Z","\u1e94":"Z","\u01b5":"Z","\u0132":"IJ","\u0152":"OE","\u1d00":"A","\u1d01":"AE","\u0299":"B","\u1d03":"B","\u1d04":"C","\u1d05":"D","\u1d07":"E","\ua730":"F","\u0262":"G","\u029b":"G","\u029c":"H","\u026a":"I","\u0281":"R","\u1d0a":"J","\u1d0b":"K","\u029f":"L","\u1d0c":"L","\u1d0d":"M","\u0274":"N","\u1d0f":"O","\u0276":"OE","\u1d10":"O","\u1d15":"OU","\u1d18":"P","\u0280":"R","\u1d0e":"N","\u1d19":"R","\ua731":"S","\u1d1b":"T","\u2c7b":"E","\u1d1a":"R","\u1d1c":"U","\u1d20":"V","\u1d21":"W","\u028f":"Y","\u1d22":"Z","\xe1":"a","\u0103":"a","\u1eaf":"a","\u1eb7":"a","\u1eb1":"a","\u1eb3":"a","\u1eb5":"a","\u01ce":"a","\xe2":"a","\u1ea5":"a","\u1ead":"a","\u1ea7":"a","\u1ea9":"a","\u1eab":"a","\xe4":"a","\u01df":"a","\u0227":"a","\u01e1":"a","\u1ea1":"a","\u0201":"a","\xe0":"a","\u1ea3":"a","\u0203":"a","\u0101":"a","\u0105":"a","\u1d8f":"a","\u1e9a":"a","\xe5":"a","\u01fb":"a","\u1e01":"a","\u2c65":"a","\xe3":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u1e03":"b","\u1e05":"b","\u0253":"b","\u1e07":"b","\u1d6c":"b","\u1d80":"b","\u0180":"b","\u0183":"b","\u0275":"o","\u0107":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0109":"c","\u0255":"c","\u010b":"c","\u0188":"c","\u023c":"c","\u010f":"d","\u1e11":"d","\u1e13":"d","\u0221":"d","\u1e0b":"d","\u1e0d":"d","\u0257":"d","\u1d91":"d","\u1e0f":"d","\u1d6d":"d","\u1d81":"d","\u0111":"d","\u0256":"d","\u018c":"d","\u0131":"i","\u0237":"j","\u025f":"j","\u0284":"j","\u01f3":"dz","\u01c6":"dz","\xe9":"e","\u0115":"e","\u011b":"e","\u0229":"e","\u1e1d":"e","\xea":"e","\u1ebf":"e","\u1ec7":"e","\u1ec1":"e","\u1ec3":"e","\u1ec5":"e","\u1e19":"e","\xeb":"e","\u0117":"e","\u1eb9":"e","\u0205":"e","\xe8":"e","\u1ebb":"e","\u0207":"e","\u0113":"e","\u1e17":"e","\u1e15":"e","\u2c78":"e","\u0119":"e","\u1d92":"e","\u0247":"e","\u1ebd":"e","\u1e1b":"e","\ua76b":"et","\u1e1f":"f","\u0192":"f","\u1d6e":"f","\u1d82":"f","\u01f5":"g","\u011f":"g","\u01e7":"g","\u0123":"g","\u011d":"g","\u0121":"g","\u0260":"g","\u1e21":"g","\u1d83":"g","\u01e5":"g","\u1e2b":"h","\u021f":"h","\u1e29":"h","\u0125":"h","\u2c68":"h","\u1e27":"h","\u1e23":"h","\u1e25":"h","\u0266":"h","\u1e96":"h","\u0127":"h","\u0195":"hv","\xed":"i","\u012d":"i","\u01d0":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u1ecb":"i","\u0209":"i","\xec":"i","\u1ec9":"i","\u020b":"i","\u012b":"i","\u012f":"i","\u1d96":"i","\u0268":"i","\u0129":"i","\u1e2d":"i","\ua77a":"d","\ua77c":"f","\u1d79":"g","\ua783":"r","\ua785":"s","\ua787":"t","\ua76d":"is","\u01f0":"j","\u0135":"j","\u029d":"j","\u0249":"j","\u1e31":"k","\u01e9":"k","\u0137":"k","\u2c6a":"k","\ua743":"k","\u1e33":"k","\u0199":"k","\u1e35":"k","\u1d84":"k","\ua741":"k","\ua745":"k","\u013a":"l","\u019a":"l","\u026c":"l","\u013e":"l","\u013c":"l","\u1e3d":"l","\u0234":"l","\u1e37":"l","\u1e39":"l","\u2c61":"l","\ua749":"l","\u1e3b":"l","\u0140":"l","\u026b":"l","\u1d85":"l","\u026d":"l","\u0142":"l","\u01c9":"lj","\u017f":"s","\u1e9c":"s","\u1e9b":"s","\u1e9d":"s","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u1d6f":"m","\u1d86":"m","\u0144":"n","\u0148":"n","\u0146":"n","\u1e4b":"n","\u0235":"n","\u1e45":"n","\u1e47":"n","\u01f9":"n","\u0272":"n","\u1e49":"n","\u019e":"n","\u1d70":"n","\u1d87":"n","\u0273":"n","\xf1":"n","\u01cc":"nj","\xf3":"o","\u014f":"o","\u01d2":"o","\xf4":"o","\u1ed1":"o","\u1ed9":"o","\u1ed3":"o","\u1ed5":"o","\u1ed7":"o","\xf6":"o","\u022b":"o","\u022f":"o","\u0231":"o","\u1ecd":"o","\u0151":"o","\u020d":"o","\xf2":"o","\u1ecf":"o","\u01a1":"o","\u1edb":"o","\u1ee3":"o","\u1edd":"o","\u1edf":"o","\u1ee1":"o","\u020f":"o","\ua74b":"o","\ua74d":"o","\u2c7a":"o","\u014d":"o","\u1e53":"o","\u1e51":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\xf5":"o","\u1e4d":"o","\u1e4f":"o","\u022d":"o","\u01a3":"oi","\ua74f":"oo","\u025b":"e","\u1d93":"e","\u0254":"o","\u1d97":"o","\u0223":"ou","\u1e55":"p","\u1e57":"p","\ua753":"p","\u01a5":"p","\u1d71":"p","\u1d88":"p","\ua755":"p","\u1d7d":"p","\ua751":"p","\ua759":"q","\u02a0":"q","\u024b":"q","\ua757":"q","\u0155":"r","\u0159":"r","\u0157":"r","\u1e59":"r","\u1e5b":"r","\u1e5d":"r","\u0211":"r","\u027e":"r","\u1d73":"r","\u0213":"r","\u1e5f":"r","\u027c":"r","\u1d72":"r","\u1d89":"r","\u024d":"r","\u027d":"r","\u2184":"c","\ua73f":"c","\u0258":"e","\u027f":"r","\u015b":"s","\u1e65":"s","\u0161":"s","\u1e67":"s","\u015f":"s","\u015d":"s","\u0219":"s","\u1e61":"s","\u1e63":"s","\u1e69":"s","\u0282":"s","\u1d74":"s","\u1d8a":"s","\u023f":"s","\u0261":"g","\xdf":"ss","\u1d11":"o","\u1d13":"o","\u1d1d":"u","\u0165":"t","\u0163":"t","\u1e71":"t","\u021b":"t","\u0236":"t","\u1e97":"t","\u2c66":"t","\u1e6b":"t","\u1e6d":"t","\u01ad":"t","\u1e6f":"t","\u1d75":"t","\u01ab":"t","\u0288":"t","\u0167":"t","\u1d7a":"th","\u0250":"a","\u1d02":"ae","\u01dd":"e","\u1d77":"g","\u0265":"h","\u02ae":"h","\u02af":"h","\u1d09":"i","\u029e":"k","\ua781":"l","\u026f":"m","\u0270":"m","\u1d14":"oe","\u0279":"r","\u027b":"r","\u027a":"r","\u2c79":"r","\u0287":"t","\u028c":"v","\u028d":"w","\u028e":"y","\ua729":"tz","\xfa":"u","\u016d":"u","\u01d4":"u","\xfb":"u","\u1e77":"u","\xfc":"u","\u01d8":"u","\u01da":"u","\u01dc":"u","\u01d6":"u","\u1e73":"u","\u1ee5":"u","\u0171":"u","\u0215":"u","\xf9":"u","\u1ee7":"u","\u01b0":"u","\u1ee9":"u","\u1ef1":"u","\u1eeb":"u","\u1eed":"u","\u1eef":"u","\u0217":"u","\u016b":"u","\u1e7b":"u","\u0173":"u","\u1d99":"u","\u016f":"u","\u0169":"u","\u1e79":"u","\u1e75":"u","\u1d6b":"ue","\ua778":"um","\u2c74":"v","\ua75f":"v","\u1e7f":"v","\u028b":"v","\u1d8c":"v","\u2c71":"v","\u1e7d":"v","\ua761":"vy","\u1e83":"w","\u0175":"w","\u1e85":"w","\u1e87":"w","\u1e89":"w","\u1e81":"w","\u2c73":"w","\u1e98":"w","\u1e8d":"x","\u1e8b":"x","\u1d8d":"x","\xfd":"y","\u0177":"y","\xff":"y","\u1e8f":"y","\u1ef5":"y","\u1ef3":"y","\u01b4":"y","\u1ef7":"y","\u1eff":"y","\u0233":"y","\u1e99":"y","\u024f":"y","\u1ef9":"y","\u017a":"z","\u017e":"z","\u1e91":"z","\u0291":"z","\u2c6c":"z","\u017c":"z","\u1e93":"z","\u0225":"z","\u1e95":"z","\u1d76":"z","\u1d8e":"z","\u0290":"z","\u01b6":"z","\u0240":"z","\ufb00":"ff","\ufb03":"ffi","\ufb04":"ffl","\ufb01":"fi","\ufb02":"fl","\u0133":"ij","\u0153":"oe","\ufb06":"st","\u2090":"a","\u2091":"e","\u1d62":"i","\u2c7c":"j","\u2092":"o","\u1d63":"r","\u1d64":"u","\u1d65":"v","\u2093":"x"}}return n.prototype.transform=function(n,e){var t=this;return p(n)?n.replace(/[^A-Za-z0-9]/g,function(n){return t.latinMap[n]||n}):n},n=Object(l.f)([Object(u.Pipe)({name:"latinise"})],n)}(),function(){function n(){}return n.prototype.transform=function(n,e){return p(n)?n.replace(/\r\n/g,"\n").split("\n"):n},n=Object(l.f)([Object(u.Pipe)({name:"lines"})],n)}(),function(){function n(){}return n.prototype.transform=function(n,e){return p(n)?n.trim().replace(/\s+/g,"").replace(/[A-Z]/g,function(n,e){return e?"_"+n.toLowerCase():n.toLowerCase()}):n},n=Object(l.f)([Object(u.Pipe)({name:"underscore"})],n)}(),function(){function n(){}return n.prototype.transform=function(n,e,t){return p(n)?n.match(new RegExp(e,t)):n},n=Object(l.f)([Object(u.Pipe)({name:"match"})],n)}(),function(){function n(){}return n.prototype.transform=function(n,e,t){return p(n)?new RegExp(e,t).test(n):n},n=Object(l.f)([Object(u.Pipe)({name:"test"})],n)}(),function(){function n(){}return n.prototype.transform=function(n,e,t){if(void 0===t&&(t=" "),!p(n)||n.length>=e)return n;for(;n.length<e;)n=t+n;return n},n=Object(l.f)([Object(u.Pipe)({name:"lpad"})],n)}(),function(){function n(){}return n.prototype.transform=function(n,e,t){if(void 0===e&&(e=1),void 0===t&&(t=" "),!p(n)||n.length>=e)return n;for(;n.length<e;)n+=t;return n},n=Object(l.f)([Object(u.Pipe)({name:"rpad"})],n)}(),function(){function n(){this.irregularMap={addendum:"addenda",alga:"algae",alumna:"alumnae",alumnus:"alumni",analysis:"analyses",antenna:"antennae",appendix:"appendices",aquarium:"aquaria",arch:"arches",axe:"axes",axis:"axes",bacillus:"bacilli",bacterium:"bacteria",basis:"bases",batch:"batches",beach:"beaches",beau:"beaux",bison:"bison",brush:"brushes",buffalo:"buffaloes",bureau:"bureaus",bus:"busses",cactus:"cacti",calf:"calves",chateau:"chateaux",cherry:"cherries",child:"children",church:"churches",circus:"circuses",cod:"cod",corps:"corps",corpus:"corpora",crisis:"crises",criterion:"criteria",curriculum:"curricula",datum:"data",deer:"deer",diagnosis:"diagnoses",die:"dice",domino:"dominoes",dwarf:"dwarves",echo:"echoes",elf:"elves",ellipsis:"ellipses",embargo:"embargoes",emphasis:"emphases",erratum:"errata",fax:"faxes",fireman:"firemen",fish:"fish",flush:"flushes",focus:"foci",foot:"feet",formula:"formulas",fungus:"fungi",genus:"genera",goose:"geese",grafito:"grafiti",half:"halves",hero:"heroes",hoax:"hoaxes",hoof:"hooves",hypothesis:"hypotheses",index:"indices",kiss:"kisses",knife:"knives",leaf:"leaves",life:"lives",loaf:"loaves",louse:"lice",man:"men",mango:"mangoes",matrix:"matrices",means:"means",medium:"media",memorandum:"memoranda",millennium:"milennia",moose:"moose",mosquito:"mosquitoes",motto:"mottoes",mouse:"mice",nebula:"nebulae",neurosis:"neuroses",nucleus:"nuclei",oasis:"oases",octopus:"octopodes",ovum:"ova",ox:"oxen",paralysis:"paralyses",parenthesis:"parentheses",person:"people",phenomenon:"phenomena",plateau:"plateaux",potato:"potatoes",quiz:"quizzes",radius:"radii",reflex:"reflexes","runner-up":"runners-up",scampo:"scampi",scarf:"scarves",scissors:"scissors",scratch:"scratches",self:"selves",series:"series",sheaf:"sheaves",sheep:"sheep",shelf:"shelves","son-in-law":"sons-in-law",species:"species",splash:"splashes",stimulus:"stimuli",stitch:"stitches",stratum:"strata",syllabus:"syllabi",symposium:"symposia",synopsis:"synopses",synthesis:"syntheses",tableau:"tableaux",tax:"taxes",that:"those",thesis:"theses",thief:"thieves",this:"these",tomato:"tomatoes",tooth:"teeth",tornado:"tornadoes",torpedo:"torpedoes",vertebra:"vertebrae",veto:"vetoes",vita:"vitae",volcano:"volcanoes",waltz:"waltzes",wash:"washes",watch:"watches",wharf:"wharves",wife:"wives",wolf:"wolves",woman:"women",zero:"zeroes"}}return n.prototype.transform=function(n,e){if(void 0===e&&(e=0),!n||""===n)return"";if(1===e)return n;var t=n.trim().split(" ")[n.trim().split(" ").length-1];return this.irregularMap[t.toLocaleLowerCase()]?t[0]===t[0].toLocaleUpperCase()?n.replace(t,this.irregularMap[t.toLocaleLowerCase()].replace(this.irregularMap[t.toLocaleLowerCase()][0],this.irregularMap[t.toLocaleLowerCase()][0].toLocaleUpperCase())):n.replace(t,this.irregularMap[t.toLocaleLowerCase()]):"y"===t[t.length-1]?b(t[t.length-2])?n+"s":n.replace(t,t.slice(0,-1)+"ies"):"s"===t[t.length-1]?n+"es":n+"s"},n=Object(l.f)([Object(u.Pipe)({name:"makePluralString"})],n)}(),function(){function n(){}return n.prototype.transform=function(n,e,t){return void 0===e&&(e=""),void 0===t&&(t=""),p(n)?(e&&p(e)?e:"")+n+(t&&p(t)?t:""):n},n=Object(l.f)([Object(u.Pipe)({name:"wrap"})],n)}()],Y=function(){function n(){}return n=Object(l.f)([Object(u.NgModule)({declarations:B,imports:[],exports:B})],n)}(),z=[function(){function n(){}return n.prototype.transform=function(n){return Array.isArray(n)?Math.max.apply(Math,Object(l.m)(n)):n},n=Object(l.f)([Object(u.Pipe)({name:"max"})],n)}(),function(){function n(){}return n.prototype.transform=function(n){return Array.isArray(n)?Math.min.apply(Math,Object(l.m)(n)):n},n=Object(l.f)([Object(u.Pipe)({name:"min"})],n)}(),function(){function n(){}return n.prototype.transform=function(n,e,t){if(void 0===e&&(e=100),void 0===t&&(t=!1),isNaN(n))return n;var l=100*n/e;return t?Math.floor(l):l},n=Object(l.f)([Object(u.Pipe)({name:"percentage"})],n)}(),function(){function n(){}return n.prototype.transform=function(n){return Array.isArray(n)?n.reduce(function(n,e){return n+e},0):n},n=Object(l.f)([Object(u.Pipe)({name:"sum"})],n)}(),function(){function n(){}return n.prototype.transform=function(n,e){if(void 0===e&&(e=0),e<=0)return Math.floor(n);var t=Math.pow(10,e);return Math.floor(n*t)/t},n=Object(l.f)([Object(u.Pipe)({name:"floor"})],n)}(),function(){function n(){}return n.prototype.transform=function(n,e){return void 0===e&&(e=0),g(n,e)},n=Object(l.f)([Object(u.Pipe)({name:"round"})],n)}(),function(){function n(){}return n.prototype.transform=function(n){return isNaN(n)?n:Math.sqrt(n)},n=Object(l.f)([Object(u.Pipe)({name:"sqrt"})],n)}(),function(){function n(){}return n.prototype.transform=function(n,e){return void 0===e&&(e=2),isNaN(n)?n:Math.pow(n,e)},n=Object(l.f)([Object(u.Pipe)({name:"pow"})],n)}(),function(){function n(){}return n.prototype.transform=function(n,e){if(void 0===e&&(e=0),e<=0)return Math.ceil(n);var t=Math.pow(10,e);return Math.ceil(n*t)/t},n=Object(l.f)([Object(u.Pipe)({name:"ceil"})],n)}(),function(){function n(){}return n.prototype.transform=function(n){return m(n)?180*n/Math.PI:NaN},n=Object(l.f)([Object(u.Pipe)({name:"degrees"})],n)}(),function(){function n(){this.dictionary=[{max:1024,type:"B"},{max:1048576,type:"KB"},{max:1073741824,type:"MB"},{max:10995116e5,type:"GB"}]}return n.prototype.transform=function(n,e){if(!m(n))return NaN;var t=this.dictionary.find(function(e){return n<e.max})||this.dictionary[this.dictionary.length-1],l=n/(t.max/1024);return(a(e)?l:g(l,e))+" "+t.type},n=Object(l.f)([Object(u.Pipe)({name:"bytes"})],n)}(),function(){function n(){}return n.prototype.transform=function(n){return m(n)?n*Math.PI/180:NaN},n=Object(l.f)([Object(u.Pipe)({name:"radians"})],n)}()],K=function(){function n(){}return n=Object(l.f)([Object(u.NgModule)({declarations:z,imports:[],exports:z})],n)}(),Z=function(){function n(){}return n.prototype.transform=function(n){return!a(n)},n=Object(l.f)([Object(u.Pipe)({name:"isDefined"})],n)}(),J=function(){function n(){}return n.prototype.transform=function(n){return null===n},n=Object(l.f)([Object(u.Pipe)({name:"isNull"})],n)}(),W=function(){function n(){}return n.prototype.transform=function(n){return a(n)},n=Object(l.f)([Object(u.Pipe)({name:"isUndefined"})],n)}(),Q=function(){function n(){}return n.prototype.transform=function(n){return p(n)},n=Object(l.f)([Object(u.Pipe)({name:"isString"})],n)}(),X=function(){function n(){}return n.prototype.transform=function(n){return s(n)},n=Object(l.f)([Object(u.Pipe)({name:"isFunction"})],n)}(),nn=function(){function n(){}return n.prototype.transform=function(n){return d(n)},n=Object(l.f)([Object(u.Pipe)({name:"isNumber"})],n)}(),en=function(){function n(){}return n.prototype.transform=function(n){return Array.isArray(n)},n=Object(l.f)([Object(u.Pipe)({name:"isArray"})],n)}(),tn=function(){function n(){}return n.prototype.transform=function(n){return f(n)},n=Object(l.f)([Object(u.Pipe)({name:"isObject"})],n)}(),ln=function(){function n(){}return n.prototype.transform=function(n,e){return n>=e},n=Object(l.f)([Object(u.Pipe)({name:"isGreaterEqualThan"})],n)}(),un=function(){function n(){}return n.prototype.transform=function(n,e){return n>e},n=Object(l.f)([Object(u.Pipe)({name:"isGreaterThan"})],n)}(),on=function(){function n(){}return n.prototype.transform=function(n,e){return n<=e},n=Object(l.f)([Object(u.Pipe)({name:"isLessEqualThan"})],n)}(),rn=[Z,J,W,Q,X,nn,en,tn,ln,un,on,on,function(){function n(){}return n.prototype.transform=function(n,e){return n==e},n=Object(l.f)([Object(u.Pipe)({name:"isEqualTo"})],n)}(),function(){function n(){}return n.prototype.transform=function(n,e){return n!=e},n=Object(l.f)([Object(u.Pipe)({name:"isNotEqualTo"})],n)}(),function(){function n(){}return n.prototype.transform=function(n,e){return n===e},n=Object(l.f)([Object(u.Pipe)({name:"isIdenticalTo"})],n)}(),function(){function n(){}return n.prototype.transform=function(n,e){return n!==e},n=Object(l.f)([Object(u.Pipe)({name:"isNotIdenticalTo"})],n)}(),function(){function n(){}return n.prototype.transform=function(n,e){return n<e},n=Object(l.f)([Object(u.Pipe)({name:"isLessThan"})],n)}()],cn=function(){function n(){}return n=Object(l.f)([Object(u.NgModule)({declarations:rn,imports:[],exports:rn})],n)}(),an=[function(){function n(){}var e;return e=n,n.prototype.transform=function(n){if(!n||!n.getTime&&!n.toDate)return"Invalid date";var t=n.toDate?n.toDate():n.getTime(),l=+new Date;if(t>l)return"in the future";for(var u=0,o=e.MAPPER.length,i=l-t,r=e.YEAR_MS;u<o;++u){var c=e.MAPPER[u],a=Math.floor(i/(r/=c.div));if(a>=1)return 1===a?c.single:a+" "+c.many+" ago"}return"just now"},n.YEAR_MS=290304e5,n.MAPPER=[{single:"last year",many:"years",div:1},{single:"last month",many:"months",div:12},{single:"last week",many:"weeks",div:4},{single:"yesterday",many:"days",div:7},{single:"an hour ago",many:"hours",div:24},{single:"just now",many:"minutes",div:60}],n=e=Object(l.f)([Object(u.Pipe)({name:"timeAgo"})],n)}()],sn=function(){function n(){}return n=Object(l.f)([Object(u.NgModule)({declarations:an,imports:[],exports:an})],n)}(),dn=function(){function n(){}return n=Object(l.f)([Object(u.NgModule)({exports:[D,Y,K,cn,G,sn]})],n)}()},YANC:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=function(){function n(){this.active=!1,this._transparent=!1,this.isActive=!1}return Object.defineProperty(n.prototype,"transparent",{set:function(n){this._transparent="true"===n},enumerable:!0,configurable:!0}),n}()},YbgN:function(n,e,t){"use strict";t.d(e,"a",function(){return l});t("awt7");var l=function(){function n(n){this.modalService=n}return n.prototype.ngOnInit=function(){},n.prototype.close=function(){this.modalService.close()},n}()},Z3YM:function(n,e,t){"use strict";var l=t("mrSG"),u=t("sE5F"),o=t("MbgK"),i=t("W2Km"),r=t("xfl0"),c=t("FYqj"),a=function(){return function(){this.comments=r.a.factory(c.b,15),this.info=new c.e,this.user=new c.c}}(),s=t("1qT8"),d=t("CcnG");t.d(e,"a",function(){return p});var p=function(n){function e(e,t){var l=n.call(this,e)||this;return l.abortRequestsService=t,l}return l.g(e,n),e.prototype.getCacheKey=function(n){return""},e.prototype.$initResultObject=function(){return new a},e.prototype.getComments=function(n){var e=this._getComments(n);return this.abortRequestsService.pushRequest(e),e},e.prototype.getPageComment=function(n){this.abortRequestsService.abort();var e=this._getPageComment(n);return this.abortRequestsService.pushRequest(e),e.$observable.subscribe(),e},e.ngInjectableDef=d.defineInjectable({factory:function(){return new e(d.inject(u.e),d.inject(s.a))},token:e,providedIn:"root"}),l.f([Object(o.b)(),l.j("design:type",Function)],e.prototype,"_getComments",void 0),l.f([Object(o.b)({method:u.h.Post}),l.j("design:type",Function)],e.prototype,"sendComment",void 0),l.f([Object(o.b)({method:u.h.Delete}),l.j("design:type",Function)],e.prototype,"deleteComment",void 0),l.f([Object(o.b)({path:"/undelete",method:u.h.Post}),l.j("design:type",Function)],e.prototype,"undeleteComment",void 0),l.f([Object(o.b)({path:"/page"}),l.j("design:type",Function)],e.prototype,"_getPageComment",void 0),e=l.f([Object(o.c)({pathPrefix:"comments"}),l.j("design:paramtypes",[u.e,s.a])],e)}(i.b)},anlG:function(n,e,t){"use strict";t.d(e,"a",function(){return o});var l=t("Ma12"),u=t("AixA"),o=function(){return function(n){Object(u.a)("newGgRating",l.a,n)}}()},bOQv:function(n,e,t){"use strict";t.d(e,"c",function(){return r}),t.d(e,"b",function(){return c}),t.d(e,"e",function(){return a}),t.d(e,"i",function(){return s}),t.d(e,"h",function(){return d}),t.d(e,"g",function(){return p}),t.d(e,"f",function(){return f}),t.d(e,"d",function(){return m}),t.d(e,"j",function(){return b});var l=t("nePK");t.d(e,"a",function(){return l.a});var u=t("yGQT"),o=t("VnD/"),i=Object(u.B)("comments"),r=function(n,e){return Object(u.D)(i,l.c(n,e))},c=function(n,e){return Object(u.D)(i,l.b(n,e))},a=function(n,e){return Object(u.D)(i,l.g(n,e))},s=function(n,e){return Object(u.D)(i,l.k(n,e))},d=function(n,e){return Object(u.D)(i,l.j(n,e))},p=Object(u.D)(i,l.i),f=function(n,e){return Object(u.D)(i,l.h(n,e))},m=function(n,e){return Object(u.D)(i,l.d(n,e))},b=Object(o.a)(function(n){return void 0!==n})},f1Oy:function(n,e,t){"use strict";t.d(e,"a",function(){return b});var l=t("mrSG"),u=t("CnH3"),o=(t("zguW"),t("pugT")),i=t("F/XL"),r=(t("huQU"),t("XWE+")),c=(t("G/VZ"),t("xMyE")),a=t("67Y/"),s=t("P6uZ"),d=t("yGQT"),p=t("k1e/"),f=t("FYqj"),m=t("bOQv"),b=(t("DUJp"),function(){function n(n,e,t,l,u){this.commentsUpdateService=n,this.scroll=e,this.cd=t,this.store=l,this.commentEditorService=u,this.sendingClosed=!1,this.scrollingData=!1,this.editorActive=!1,this.editComment=new f.b,this.type=r.a.COMMENT,this.subscription=new o.a,this.pagesNumbers$=Object(i.a)([])}return Object.defineProperty(n.prototype,"autoload",{set:function(n){this._autoload="true"===n},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){var n=this,e=this.store.pipe(Object(d.E)(m.g),m.j).subscribe(function(e){return n.anchorScroll(e)});this.subscription.add(e)},n.prototype.load=function(){this._autoload||(this._autoload=!0,this.ngOnChanges())},n.prototype.replay=function(n){this.store.dispatch(new p.m({objData:this.objData,value:f.a.FULL})),this.send.editor.replay("#"+n.i,"#"+u.b.COMMENT_NUMBER+n.i,", ")},n.prototype.updateEditComment=function(n,e){this.editComment=this.editComment.id?this.editComment:n,this.editComment.edit=!1,this.editComment=e?n:new f.b},n.prototype.quote=function(n){var e=this,t=document.getSelection().toString()||n.text,l='<div class="cq-author"><a href="#comment'+n.i+'">#'+n.i+"</a>, "+n.author.nickname+"</div>"+t;this.commentEditorService.editor?this.commentEditorService.editor.quote(l):this.send.editor.quote(l),setTimeout(function(){return e.store.dispatch(new p.m({objData:e.objData,value:f.a.FULL}))})},n.prototype.anchorScroll=function(n){var e=this;n&&n.type!==u.b.NONE&&setTimeout(function(){n.type!==u.b.BOTTOM?e.anchor.scrollTo(n.id,n.type):e.scroll.scrollToBottom()},1e3)},n.prototype.scrollToComment=function(n){var e=n.value,t=n.type;this._autoload=!0,this.ngOnChanges(),this.store.dispatch(new p.f({objData:this.objData,id:e,type:t}))},n.prototype.trackByIndex=function(n,e){return e.id},n.prototype.ngOnChanges=function(n){var e=this;if(this._autoload=this._autoload||this.scroll.scrollElement.scrollHeight===this.scroll.scrollElement.clientHeight,(!n||n.objId||n.objType||!n.sendingClosed)&&this.objId&&this.objKey&&this._autoload){this.store.dispatch(new p.h({objData:this.objData})),this.comments$=this.store.pipe(Object(d.E)(Object(m.b)(this.objId,this.objType)),Object(c.a)(function(){return setTimeout(function(){return e.cd.detectChanges()})})),this.commentsTop$=this.store.pipe(Object(d.E)(Object(m.h)(this.objId,this.objType))),this.info$=this.store.pipe(Object(d.E)(Object(m.e)(this.objId,this.objType))),this.pagesNumbers$=this.info$.pipe(Object(a.a)(function(n){return n.qty&&n.page?e.generatePages(n.qty,+n.page):[]})),this.activePage$=this.store.pipe(Object(d.E)(Object(m.c)(this.objId,this.objType))),this.user$=this.store.pipe(Object(d.E)(Object(m.i)(this.objId,this.objType)));var t=this.commentsUpdateService.subscribeNewComments(this.objKey,function(n){return e.parseCommentEvent(n)});this.subscription.add(t)}},n.prototype.parseCommentEvent=function(n){return l.e(this,void 0,void 0,function(){var e,t,u;return l.h(this,function(l){switch(l.label){case 0:return[4,this.info$.pipe(Object(s.a)()).toPromise()];case 1:return e=l.sent(),+n.cqty==+e.cqty?[2]:(t=Math.ceil((e.qty+1)/m.a),u=(e.page==t||e.page+1==t)&&!this.commentEditorService.editor,this.store.dispatch(new p.g({objData:this.objData,page:t,single:!0,setInActive:u})),[2])}})})},n.prototype.loadSinglePage=function(n){this.store.dispatch(new p.h({objData:this.objData,page:n})),this.scroll.scrollTo("#toComments")},n.prototype.loadNextPage=function(n,e,t){0!==(e=+e)&&1===t&&n[e]&&n[e][0]&&!n[e][0].author&&!n[e][0].deleted&&this.store.dispatch(new p.j({objData:this.objData,page:e}))},n.prototype.setPageNumber=function(n,e){var t=1===e?n:n-1;this.store.dispatch(new p.n({objData:this.objData,page:t}))},n.prototype.sendComment=function(n,e,t,u){return void 0===t&&(t=0),l.e(this,void 0,void 0,function(){var o,i;return l.h(this,function(l){switch(l.label){case 0:return[4,this.activePage$.pipe(Object(s.a)()).toPromise()];case 1:return o=l.sent(),i=(i=t?o:e[e.length-1])||1,!u||!u.qty||u.qty%m.a||i++,this.store.dispatch(new p.l({objData:this.objData,id:t,comment:n,currentPage:i})),this.editComment[t]=!1,[2]}})})},n.prototype.generatePages=function(n,e){var t=Math.ceil(n/m.a),l=e;return 1==t?[]:t<7?this.range(1,t):l<4?this.range(1,4).concat([void 0,t]):l>t-3?[1,void 0].concat(this.range(t-3,t)):[1,void 0].concat(this.range(l-1,l+1)).concat([void 0,t])},n.prototype.range=function(n,e){return Array(1+e-n).fill(1).map(function(e){return n++})},n.prototype.hideComment=function(n,e,t){return e>0&&(e-t>2||t-e>2)&&Object.keys(n).length>1},Object.defineProperty(n.prototype,"objData",{get:function(){return{objId:this.objId,objType:this.objType}},enumerable:!0,configurable:!0}),n.prototype.ngOnDestroy=function(){this.store.dispatch(new p.a),this.subscription.unsubscribe()},n}())},gW2I:function(n,e,t){"use strict";t.d(e,"a",function(){return c});var l=t("CcnG"),u=t("YbgN"),o=t("l1nV"),i=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function r(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,8,"div",[["class","popup-block gallery-new comments show"],["ggDocumentEvent",""]],null,[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.close()&&l);return l},null,null)),(n()(),l["\u0275eld"](1,0,null,null,7,"div",[["class","gallery-wrap"]],null,[[null,"escape"]],function(n,e,t){var l=!0,u=n.component;"escape"===e&&(l=!1!==u.close()&&l);return l},null,null)),(n()(),l["\u0275eld"](2,0,null,null,6,"div",[["class","gallery-part"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,5,"div",[["class","gallery-slider-wrap"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,4,"div",[["class","gallery-slider-inner-wrap"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,3,"div",[["class","gallery-slider"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,2,"div",[["class","slide"]],null,null,null,null,null)),(n()(),l["\u0275eld"](7,0,null,null,0,"a",[["class","close icon icon-close2"]],null,[[null,"click"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.close()&&l);return l},null,null)),(n()(),l["\u0275eld"](8,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,function(n,e){n(e,8,0,e.component.inputData.src)})}var c=l["\u0275ccf"]("gg-gg-popups-photo",u.a,function(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"gg-gg-popups-photo",[],null,null,null,r,i)),l["\u0275did"](1,114688,null,0,u.a,[o.a],null,null)],function(n,e){n(e,1,0)},null)},{inputData:"inputData"},{},[])},huQU:function(n,e,t){"use strict";var l=t("xfl0"),u=function(){return function(){}}(),o=function(){return function(){this.cqty=-1,this.qty=0,this.page=1}}(),i=function(){return function(){this.avatar="",this.nickname="",this.icon=""}}(),r=function(){return function(){this.comments=l.a.factory(u,15),this.info=new o,this.user=new i}}(),c=t("mrSG");(function(n){function e(){return null!==n&&n.apply(this,arguments)||this}c.g(e,n)})(function(){return function(){}}()),t("QlWe");t.d(e,"b",function(){return o}),t.d(e,"a",function(){return r})},nePK:function(n,e,t){"use strict";t.d(e,"a",function(){return a}),t.d(e,"l",function(){return p}),t.d(e,"b",function(){return v}),t.d(e,"e",function(){return g}),t.d(e,"f",function(){return h}),t.d(e,"c",function(){return y}),t.d(e,"g",function(){return O}),t.d(e,"k",function(){return j}),t.d(e,"j",function(){return C}),t.d(e,"h",function(){return w}),t.d(e,"d",function(){return P}),t.d(e,"i",function(){return S});var l=t("mrSG"),u=t("FYqj"),o=t("xfl0"),i=t("k1e/"),r=new u.f,c=new u.d,a=25,s=5,d={sectionComments:{}};function p(n,e){var t,p,b,v,g,h,y,O,j,C,w,P,S,I,T,M;switch(void 0===n&&(n=d),e.type){case i.b.LOADING_COMMENTS:if(!(U=e.payload).commentsPage)return n;var E=m(U.objData.objId,U.objData.objType),k=U.commentsPage.info,x=(q=n.sectionComments[E]||r).activeComments,_=((t={})[k.page]=U.commentsPage.comments,t),R=Math.ceil(k.qty/a);return k.page<R&&-1!=k.page&&!x[k.page+1]&&(_=l.a({},_,((p={})[k.page+1]=o.a.factory(u.b,s),p))),U.single||(_=l.a({},x,_)),q.activeSend&&q.activeSend!==u.a.SHORT&&(q.activeSend=u.a.SEMI_SHORT),l.a({},n,{sectionComments:l.a({},n.sectionComments,(b={},b[E]={top:U.commentsPage.top,info:k,user:U.commentsPage.user,comments:l.a({},q.comments,(v={},v[k.page]=U.commentsPage.comments,v)),activeComments:_,activeSend:q.activeSend,loadingSend:!1},b))});case i.b.REQUEST_FOR_COMMENTS:E=m((U=e.payload).objData.objId,U.objData.objType);var A=n.sectionComments[E];x=A.activeComments,k=A.info,R=Math.ceil(k.qty/a);return A.comments[U.page]&&(x=l.a({},x,((g={})[U.page]=A.comments[U.page],g)),U.page<R&&(x=l.a({},x,((h={})[U.page+1]=o.a.factory(u.b,s),h)))),l.a({},n,{sectionComments:l.a({},n.sectionComments,(y={},y[E]=l.a({},n.sectionComments[E],{activeComments:x}),y))});case i.b.SCROLL_COMMENT:var D=e.payload;return l.a({},n,{scrollComment:D});case i.b.CLEAR_SCROLL_COMMENT:return l.a({},n,{scrollComment:null});case i.b.LOAD_SINGLE_PAGE:E=m((U=e.payload).objData.objId,U.objData.objType);var q=n.sectionComments[E]||r,L=(k=l.a({},q.info,{page:U.page}),c);return L.comments=q.comments[U.page]||L.comments,q.activeSend&&q.activeSend!==u.a.SHORT&&(q.activeSend=u.a.SEMI_SHORT),l.a({},n,{sectionComments:l.a({},n.sectionComments,(O={},O[E]=l.a({},q,{info:k,activeComments:(j={},j[U.page]=L.comments,j),activeSend:q.activeSend}),O))});case i.b.LOAD_PAGE_IN_CACHE:return n;case i.b.SET_PAGE:E=m((U=e.payload).objData.objId,U.objData.objType),q=n.sectionComments[E]||r,R=Math.ceil(q.info.qty/a);if(U.page>R)return n;k=l.a({},q.info,{page:U.page});return l.a({},n,{sectionComments:l.a({},n.sectionComments,(C={},C[E]=l.a({},q,{info:k}),C))});case i.b.SEND_COMMENT:E=m((U=e.payload).objData.objId,U.objData.objType);return(q=n.sectionComments[E]).info.cqty=+q.info.cqty+1,U.id||(q.loadingSend=!0),l.a({},n,{sectionComments:l.a({},n.sectionComments,(w={},w[E]=q,w))});case i.b.SET_ACTIVE_SEND:E=m((U=e.payload).objData.objId,U.objData.objType);return(q=n.sectionComments[E]).activeSend=U.value,l.a({},n,{sectionComments:l.a({},n.sectionComments,(P={},P[E]=q,P))});case i.b.SET_PAGE_TO_CACHE:E=m((U=e.payload).objData.objId,U.objData.objType);var N=U.commentsPage;x=n.sectionComments[E].activeComments,k=n.sectionComments[E].info;return U.single&&(k.qty=U.commentsPage.info.qty),U.setInActive&&(x[N.info.page]=N.comments),l.a({},n,{sectionComments:l.a({},n.sectionComments,(S={},S[E]=l.a({},n.sectionComments[E],{comments:l.a({},n.sectionComments[E].comments,(I={},I[N.info.page]=U.commentsPage.comments,I)),activeComments:l.a({},x),info:l.a({},k)}),S))});case i.b.ERROR_UNDELETE_COMMENT:case i.b.DELETE_COMMENT:var V=e.payload,$=(E=m(V.objData.objId,V.objData.objType),n.sectionComments[E]);return f($,V.id,function(n,e){var t=$.comments[n][e];return t.deleted=!0,t.deleted_by=t.deleted_by||{username:V.deletedBy.username,user_id:V.deletedBy.user_id},t}),l.a({},n,{sectionComments:l.a({},n.sectionComments,(T={},T[E]=$,T))});case i.b.ERROR_DELETE_COMMENT:case i.b.UNDELETE_COMMENT:E=m((U=e.payload).objData.objId,U.objData.objType);var U,G=n.sectionComments[E];return f(G,U.id,function(n,e){var t=G.comments[n][e];return t.deleted=!1,t}),l.a({},n,{sectionComments:l.a({},n.sectionComments,(M={},M[E]=G,M))});case i.b.SUCCESS_DELETE_COMMENT:case i.b.SUCCESS_UNDELETE_COMMENT:default:return n}}function f(n,e,t){var u,o,i=Object.keys(n.comments);try{for(var r=l.n(i),c=r.next();!c.done;c=r.next())for(var a=c.value,s=0;s<n.comments[a].length;++s){if(n.comments[a][s].id==e){t(a,s);break}}}catch(d){u={error:d}}finally{try{c&&!c.done&&(o=r.return)&&o.call(r)}finally{if(u)throw u.error}}}function m(n,e){return n+":"+e}function b(n,e,t){return n.sectionComments[m(e,t)]||r}var v=function(n,e){return function(t){return b(t,n,e).activeComments}},g=function(n,e){return function(t){return b(t,n,e).comments}},h=function(n,e,t){return function(l){return b(l,n,e).comments[t]}},y=function(n,e){return function(t){return b(t,n,e).info.page}},O=function(n,e){return function(t){return b(t,n,e).info}},j=function(n,e){return function(t){return b(t,n,e).user}},C=function(n,e){return function(t){return b(t,n,e).top}},w=function(n,e){return function(t){return b(t,n,e).loadingSend}},P=function(n,e){return function(t){return b(t,n,e).activeSend}},S=function(n){return n.scrollComment}},oD12:function(n,e,t){"use strict";t.d(e,"a",function(){return c});var l=t("mrSG"),u=t("MbgK"),o=t("W2Km"),i=t("sE5F"),r=t("huQU"),c=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return l.g(e,n),e.prototype.$initResultObject=function(){return new r.a},e.prototype.getCacheKey=function(n){if(n.method===i.h.Get){var e=l.l(/objId=(\d+)&objType=(\d+)/.exec(n.url.substr(n.url.lastIndexOf("/")+1)),3),t=(e[0],e[1]);return"comments-"+e[2]+":"+t}return""},l.f([Object(u.b)(),l.j("design:type",Function)],e.prototype,"getComments",void 0),l.f([Object(u.b)({method:i.h.Post}),l.j("design:type",Function)],e.prototype,"sendComment",void 0),l.f([Object(u.b)({method:i.h.Delete}),l.j("design:type",Function)],e.prototype,"deleteComment",void 0),l.f([Object(u.b)({path:"/undelete",method:i.h.Post}),l.j("design:type",Function)],e.prototype,"undeleteComment",void 0),e=l.f([Object(u.c)({pathPrefix:"comments"})],e)}(o.b)},"omg/":function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=function(){return function(){}}()},qqAk:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=function(){return function(){}}()},rYXN:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=function(){return function(){}}()},rvf7:function(n,e,t){"use strict";var l=t("CcnG"),u=t("Ip0R"),o=t("zf8C"),i=t("AtGD"),r=t("Ma12"),c=t("26J2"),a=t("9Za/");t.d(e,"b",function(){return d}),t.d(e,"c",function(){return h}),t.d(e,"a",function(){return y});var s=[[".rate-wrapper[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.rate-wrapper[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{cursor:pointer;padding:3px 4px;display:-webkit-inline-box;display:inline-flex}.rate-wrapper[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:inline-block;line-height:1.16;color:#53709b;font-size:18px}.rate-wrapper[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .icon.icon-like.active[_ngcontent-%COMP%]{color:#46b75e}.rate-wrapper[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .icon.icon-dislike.active[_ngcontent-%COMP%]{color:#ea455c}.rate-wrapper[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .icon.icon-dislike[_ngcontent-%COMP%]{vertical-align:text-bottom;margin-bottom:-2px}.rate-wrapper[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{overflow:hidden;height:21px;margin-left:3px}.rate-wrapper[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;height:21px;min-width:8px}.rate-wrapper[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]:hover{border-radius:4px;padding:3px 4px}.rate-wrapper[_ngcontent-%COMP%]   .rate.up[_ngcontent-%COMP%]:hover{background-color:rgba(58,151,73,.5)}.rate-wrapper[_ngcontent-%COMP%]   .rate.up[_ngcontent-%COMP%]:hover   .count[_ngcontent-%COMP%], .rate-wrapper[_ngcontent-%COMP%]   .rate.up[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{color:#fff}.rate-wrapper[_ngcontent-%COMP%]   .rate.up[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%], .rate-wrapper[_ngcontent-%COMP%]   .rate.up[_ngcontent-%COMP%]   .icon.active[_ngcontent-%COMP%]{color:#46b75e}.rate-wrapper[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]:nth-child(2){margin-left:12px}.rate-wrapper[_ngcontent-%COMP%]   .rate.down[_ngcontent-%COMP%]:hover{background-color:rgba(184,57,57,.5)}.rate-wrapper[_ngcontent-%COMP%]   .rate.down[_ngcontent-%COMP%]:hover   .count[_ngcontent-%COMP%], .rate-wrapper[_ngcontent-%COMP%]   .rate.down[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{color:#fff}.rate-wrapper[_ngcontent-%COMP%]   .rate.down[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%], .rate-wrapper[_ngcontent-%COMP%]   .rate.down[_ngcontent-%COMP%]   .icon.active[_ngcontent-%COMP%]{color:#ea455c}.rate-wrapper[_ngcontent-%COMP%]   .rate.down.my_comment[_ngcontent-%COMP%], .rate-wrapper[_ngcontent-%COMP%]   .rate.up.my_comment[_ngcontent-%COMP%]{background-color:transparent}.active_border[_ngcontent-%COMP%]   .rate.down[_ngcontent-%COMP%]:hover, .active_border[_ngcontent-%COMP%]   .rate.up[_ngcontent-%COMP%]:hover{padding:1px 2px;background-color:transparent}.active_border[_ngcontent-%COMP%]   .rate.up[_ngcontent-%COMP%]:hover{border:2px solid rgba(58,151,73,.5)}.active_border[_ngcontent-%COMP%]   .rate.up[_ngcontent-%COMP%]:hover   .count[_ngcontent-%COMP%]{color:#46b75e}.active_border[_ngcontent-%COMP%]   .rate.up[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{color:#53709b}.active_border[_ngcontent-%COMP%]   .rate.up[_ngcontent-%COMP%]:hover   .icon.active[_ngcontent-%COMP%]{color:#46b75e}.active_border[_ngcontent-%COMP%]   .rate.down[_ngcontent-%COMP%]:hover{border:2px solid rgba(184,57,57,.5)}.active_border[_ngcontent-%COMP%]   .rate.down[_ngcontent-%COMP%]:hover   .count[_ngcontent-%COMP%]{color:#ea455c}.active_border[_ngcontent-%COMP%]   .rate.down[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{color:#53709b}.active_border[_ngcontent-%COMP%]   .rate.down[_ngcontent-%COMP%]:hover   .icon.active[_ngcontent-%COMP%]{color:#ea455c}.user-list[_ngcontent-%COMP%]{display:-webkit-box;display:flex;height:200px;max-height:200px;overflow-y:auto;overflow-x:hidden;position:absolute;width:250px;right:0;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;z-index:2;background-color:#171d30;box-shadow:0 4px 4px rgba(0,0,0,.12),0 2px 2px rgba(0,0,0,.24);border-radius:2px;top:28px}.user-list[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.user-list[_ngcontent-%COMP%]   .icon.icon-like[_ngcontent-%COMP%]{color:#46b75e;font-size:18px}.user-list[_ngcontent-%COMP%]   .icon.icon-dislike[_ngcontent-%COMP%]{color:#ea455c;font-size:18px}.user-list[_ngcontent-%COMP%]   .row-list[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;padding:5px 22px 5px 16px;margin-bottom:5px}.user-list[_ngcontent-%COMP%]   .row-list[_ngcontent-%COMP%]:last-child{margin-bottom:0}.user-list[_ngcontent-%COMP%]   .row-list[_ngcontent-%COMP%]   .row-list-wrapper[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;overflow:hidden}.user-list[_ngcontent-%COMP%]   .row-list[_ngcontent-%COMP%]   .row-list-wrapper[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:24px;height:24px}.user-list[_ngcontent-%COMP%]   .row-list[_ngcontent-%COMP%]   .row-list-wrapper[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:10px;line-height:1.7}.user-list[_ngcontent-%COMP%]   .row-list[_ngcontent-%COMP%]   .row-list-wrapper[_ngcontent-%COMP%]   .user-profile__stream-online[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}"]],d=l["\u0275crt"]({encapsulation:0,styles:s,data:{}});function p(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"span",[["class","icon icon-dislike"]],null,null,null,null,null))],null,null)}function f(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"span",[["class","icon icon-like"]],null,null,null,null,null))],null,null)}function m(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,9,"div",[["class","row-list"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,4,"div",[["class","row-list-wrapper"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,0,"img",[["alt",""],["class","img"]],[[8,"src",4]],null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,2,"a",[["class","user-profile__stream-online"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,1,"span",[["class","text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](5,null,[""," "])),(n()(),l["\u0275and"](16777216,null,null,1,null,p)),l["\u0275did"](7,16384,null,0,u.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,f)),l["\u0275did"](9,16384,null,0,u.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){n(e,7,0,"-1"===e.context.$implicit.vote.vote),n(e,9,0,"1"===e.context.$implicit.vote.vote)},function(n,e){n(e,2,0,l["\u0275inlineInterpolate"](1,"",e.context.$implicit.author.avatar,"")),n(e,3,0,"/user/"+e.context.$implicit.author.id),n(e,5,0,e.context.$implicit.author.nickname)})}function b(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,"div",[["class","user-list tse-scrollable"]],[[4,"height",null]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,3,"gg-scroller",[],null,null,null,o.b,o.a)),l["\u0275did"](2,114688,null,0,i.a,[l.ElementRef,l.NgZone],null,null),(n()(),l["\u0275and"](16777216,null,0,1,null,m)),l["\u0275did"](4,278528,null,0,u.n,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,e){n(e,2,0),n(e,4,0,e.parent.context.ngIf)},function(n,e){n(e,0,0,e.parent.context.ngIf.length<5?40*e.parent.context.ngIf.length+"px":"173px")})}function v(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,b)),l["\u0275did"](2,16384,null,0,u.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](0,null,null,0))],function(n,e){n(e,2,0,e.context.ngIf.length)},null)}function g(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,2,null,v)),l["\u0275did"](2,16384,null,0,u.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,u.b,[l.ChangeDetectorRef]),(n()(),l["\u0275and"](0,null,null,0))],function(n,e){var t=e.component;n(e,2,0,l["\u0275unv"](e,2,0,l["\u0275nov"](e,3).transform(t.votedList$)))},null)}function h(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,19,"div",[["class","rate-wrapper"]],[[2,"active_border",null]],[[null,"mouseleave"]],function(n,e,t){var l=!0,u=n.component;"mouseleave"===e&&(l=!1!==u.hideWhosVoted()&&l);return l},null,null)),(n()(),l["\u0275eld"](1,0,null,null,7,"span",[["class","rate up"]],[[2,"my_comment",null]],[[null,"click"],[null,"mouseenter"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.rateUp()&&l);"mouseenter"===e&&(l=!1!==u.showWhosVoted(1)&&l);return l},null,null)),(n()(),l["\u0275eld"](2,0,null,null,0,"span",[["class","icon"]],[[2,"active",null],[2,"icon-like",null],[2,"icon-like-empty",null]],null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" \xa0"])),(n()(),l["\u0275eld"](4,0,null,null,4,"span",[["class","count"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l["\u0275ted"](6,null,["",""])),(n()(),l["\u0275eld"](7,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l["\u0275ted"](8,null,["",""])),(n()(),l["\u0275eld"](9,0,null,null,7,"span",[["class","rate down"]],[[2,"my_comment",null]],[[null,"click"],[null,"mouseenter"]],function(n,e,t){var l=!0,u=n.component;"click"===e&&(l=!1!==u.rateDown()&&l);"mouseenter"===e&&(l=!1!==u.showWhosVoted(-1)&&l);return l},null,null)),(n()(),l["\u0275eld"](10,0,null,null,0,"span",[["class","icon"]],[[2,"active",null],[2,"icon-dislike",null],[2,"icon-dislike-empty",null]],null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" \xa0"])),(n()(),l["\u0275eld"](12,0,null,null,4,"span",[["class","count"]],null,null,null,null,null)),(n()(),l["\u0275eld"](13,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l["\u0275ted"](14,null,["",""])),(n()(),l["\u0275eld"](15,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l["\u0275ted"](16,null,["",""])),(n()(),l["\u0275and"](16777216,null,null,2,null,g)),l["\u0275did"](18,16384,null,0,u.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,u.b,[l.ChangeDetectorRef])],function(n,e){var t=e.component;n(e,18,0,l["\u0275unv"](e,18,0,l["\u0275nov"](e,19).transform(t.showVotedList$)))},function(n,e){var t=e.component;n(e,0,0,1==t.rated||-1==t.rated),n(e,1,0,!t.canrate),n(e,2,0,1==t.rated,t.canrate,!t.canrate),n(e,6,0,t.up),n(e,8,0,t.newUp),n(e,9,0,!t.canrate),n(e,10,0,-1==t.rated,t.canrate,!t.canrate),n(e,14,0,t.down),n(e,16,0,t.newDown)})}var y=l["\u0275ccf"]("gg-rating",r.a,function(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"gg-rating",[],null,null,null,h,d)),l["\u0275did"](1,114688,null,0,r.a,[c.a,l.ElementRef,a.a],null,null)],function(n,e){n(e,1,0)},null)},{up:"up",down:"down",rated:"rated",canrate:"canrate",id:"id",type:"type"},{},[])},xfl0:function(n,e,t){"use strict";var l=t("mrSG"),u=function(){function n(){}return n.factory=function(n,e,t){return void 0===t&&(t=[]),new Array(e).fill(new(n.bind.apply(n,l.m([void 0],t))))},n.factoryFunc=function(n,e){return new Array(n).fill(0).map(function(n,t){return e(t)})},n.value=function(n,e){return new Array(e).fill(n)},n.empty=function(n){return new Array(n).fill({})},n}();t.d(e,"a",function(){return u})}}]);